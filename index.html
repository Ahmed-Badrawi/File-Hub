<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>File Hub - Downloads</title>

  <!-- PWA Meta Tags -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="File Hub">
  <link rel="apple-touch-icon" href="/icons/icon-512x512.png"> <!-- تأكد من وجود هذا الملف في مجلد /icons/ -->
  
  <!-- Developer Note:
       IMPORTANT: For a fully functional PWA on GitHub Pages,
       manifest.json and sw.js MUST be separate files in your root directory.
       This embedded approach is for single-file testing but is NOT recommended for production PWA.
       The manifest data is included via a meta tag here, which some browsers might not fully support for PWA.
       The service worker registration below will point to a non-existent /sw.js if not created separately.
  -->
  <meta name="manifest_content" content='{"name":"File Hub","short_name":"File Hub","start_url":".","display":"standalone","background_color":"#071023","theme_color":"#06b6d4","icons":[{"src":"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAyNCAyNCc+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSdhJyB4MT0nMTInIHkxPScyJyB4Mj0nMTInIHkyPScyMicgZ3JhZGllbnRVbml0cz0ndXNlclNwYWNlT25Vc2UnPjxzdG9wIHN0b3AtY29sb3I9JyM3YzNhZWQnLz48c3RvcCBvZmZzZXQ9JzEnIHN0b3AtY29sb3I9JyMwNmI2ZDQnLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cGF0aCBkPSdNMTEgMmgyYy0xLjEgMC0yIC45LTIgMnYxNmMwIDEuMS45IDIgMiAyaDEwYzEuMSAwIDItLjkgMi0yVjhsLTYtNnpNMTUgMy41VjloNS41TDE1IDMuNXonIGZpbGw9J3VybCgjYSkvPjxwYXRoIGQ9J00xMi41IDEyaC0zdi0yaDNWN.VMMTggMTFsLTMuNSAyLjVWMjB6TTEzLjUgMTZoM3YyaC0zVjIwLjVMOCAxOGwzLjUtMi41VjE2eicgZmlsbD0nI2U2ZWVmOCcvPjwvc3ZnPg==","sizes":"512x512","type":"image/svg+xml"}]}'>
  <!-- Developer Note: The manifest content is embedded here for a single-file solution.
       For a robust PWA, create a separate 'manifest.json' file with the above content. -->

  <!-- Favicon for Files and Mechatronics -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cdefs%3E%3ClinearGradient id='a' x1='12' y1='2' x2='12' y2='22' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%237c3aed'/%3E%3Cstop offset='1' stop-color='%2306b6d4'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6z' fill='url(%23a)'/%3E%3Cpath d='M12.5 12h-3v-2h3V8.5L16 11l-3.5 2.5V12zM11.5 16h3v2h-3v2.5L8 18l3.5-2.5V16z' fill='%23e6eef8'/%3E%3C/svg%3E">
  <!-- Developer Note: This favicon represents a document with a gear, symbolizing files and mechatronics. -->

  <style>
    :root{
      --bg:#0f172a;
      --card:#0b1220;
      --accent1:#7c3aed;
      --accent2:#06b6d4;
      --glass: rgba(255,255,255,0.04);
      --text-color: #e6eef8;
      --muted-text: #b0bec5;
    }
    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,'Helvetica Neue',Arial}
    body{
      display: flex;
      flex-direction: column; /* Stack header, main, footer vertically */
      min-height: 100vh; /* Ensure body takes full viewport height */
      background:linear-gradient(180deg,#071023 0%, #021029 100%);
      color:var(--text-color);
      justify-content: space-between; /* Push footer to bottom */
      overflow-x: hidden; /* Prevent horizontal scroll */
    }

    /* Splash Screen Styles */
    #splash-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(180deg,#071023 0%, #021029 100%);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        opacity: 1;
        visibility: visible;
        transition: opacity 0.5s ease-out, visibility 0.5s ease-out;
    }
    #splash-screen.hidden {
        opacity: 0;
        visibility: hidden;
    }
    #splash-screen .splash-icon {
        width: 100px;
        height: 100px;
        margin-bottom: 20px;
        /* Using a gradient for the icon to match card buttons */
        --icon-color-start: var(--accent1);
        --icon-color-end: var(--accent2);
        filter: drop-shadow(0 0 15px rgba(124,58,237,0.3)); /* Soft glow */
    }
    #splash-screen .splash-title {
        font-size: 3em;
        font-weight: 800;
        background: linear-gradient(90deg, var(--accent1), var(--accent2));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin: 0;
        letter-spacing: 2px;
    }

    main{
        flex-grow: 1; /* Allow main content to expand and push footer down */
        display: flex;
        flex-direction: column; /* Stack sections vertically */
        align-items: center; /* Center sections horizontally */
        padding: 40px 20px; /* Padding for the entire main content area */
        gap: 40px; /* Space between sections */
    }

    /* Header Actions Section (Upload + Install) */
    .header-actions {
        width: 100%;
        max-width: 900px;
        margin-bottom: 20px;
        text-align: right;
        padding-right: 20px;
        display: flex; /* Use flexbox to align buttons */
        justify-content: flex-end; /* Push buttons to the right */
        gap: 15px; /* Space between buttons */
        flex-wrap: wrap; /* Allow buttons to wrap on smaller screens */
        padding-left: 20px; /* Balance padding */
    }
    /* Common button styles for upload and install */
    .action-btn {
        --pad:14px 20px;
        display:inline-flex;
        align-items:center;
        gap:10px;
        background:linear-gradient(90deg,var(--accent1),var(--accent2));
        padding:var(--pad);
        border-radius:12px;
        color:white;
        font-weight:700;
        text-decoration:none;
        box-shadow:0 6px 18px rgba(124,58,237,0.18);
        transition:transform .15s ease,box-shadow .15s ease;
        cursor: pointer;
        border: none; /* Remove default button border */
        font-family: inherit; /* Inherit font from body */
        font-size: 1em; /* Ensure consistent font size */
    }
    .action-btn:hover{transform:translateY(-3px);box-shadow:0 12px 30px rgba(6,182,212,0.12)}
    .action-btn:active{transform:translateY(-1px)}
    .action-btn .icon {
        width:18px;
        height:18px;
        display:inline-block;
    }

    /* Modal Styles (for Upload Form only now) */
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7); /* Dark semi-transparent background */
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1001; /* Above splash screen when visible */
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease-out, visibility 0.3s ease-out;
    }
    .modal-overlay.visible {
        opacity: 1;
        visibility: visible;
    }
    .modal-content {
        background: var(--card); /* Match card background */
        border-radius: 16px;
        box-shadow: 0 10px 40px rgba(0,0,0,0.8);
        width: 90%;
        max-width: 900px; /* Max width for the modal */
        height: 80%;
        position: relative;
        padding: 20px;
        display: flex;
        flex-direction: column;
        border: 1px solid rgba(255,255,255,0.06); /* Subtle border */
    }
    .modal-close-btn {
        position: absolute;
        top: 15px;
        right: 15px;
        background: none;
        border: none;
        font-size: 2.5em; /* Large X */
        color: var(--muted-text);
        cursor: pointer;
        line-height: 1;
        padding: 0 5px; /* Added horizontal padding */
        transition: color 0.2s ease, transform 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 40px; /* Make button area clickable */
        height: 40px;
        border-radius: 50%; /* Make them round */
    }
    .modal-close-btn:hover {
        color: var(--accent1); /* Accent color on hover */
        transform: rotate(90deg);
    }
    .modal-iframe {
        width: 100%;
        height: 100%;
        border: none;
        border-radius: 8px; /* Slightly rounded corners for the iframe */
        background-color: white; /* Forms generally have white backgrounds */
    }

    /* Styles for individual file sections */
    .file-section {
        width: 100%;
        max-width: 900px; /* Max width for sections, adjust as needed */
        margin: 0 auto; /* Center sections */
    }
    .section-title {
        font-size: 28px;
        font-weight: 700;
        margin-bottom: 25px;
        color: var(--accent2); /* Use accent color for section titles */
        text-align: left; /* Aligned to left */
        text-transform: uppercase;
        letter-spacing: 1.5px;
        border-bottom: 2px solid rgba(6, 182, 212, 0.3); /* Subtle underline */
        padding-bottom: 10px;
        display: flex; /* For icon alignment */
        align-items: center;
        gap: 15px; /* Space between icon and title text */
    }
    .section-title .section-icon {
        width: 32px;
        height: 32px;
        color: var(--accent1); /* Use accent1 for section icons */
        transition: transform 0.2s ease-in-out;
    }
    .section-title:hover .section-icon {
        transform: scale(1.1); /* Subtle hover effect for icons */
    }
    .section-cards-wrapper {
        display: flex;
        flex-wrap: wrap; /* Allow cards to wrap to the next line */
        gap: 25px; /* Space between cards within a section */
        justify-content: flex-start; /* Align cards to the left within the section */
    }

    .card{
        background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
        border-radius:16px;
        padding:28px 36px;
        box-shadow:0 8px 30px rgba(2,6,23,0.7);
        display:flex;
        gap:20px;
        align-items: flex-start; /* Align items to the left within the card */
        border:1px solid rgba(255,255,255,0.04);
        flex-direction: column; /* Stack info and other elements vertically */
        text-align: left; /* Align text within card to the left */
        max-width: 380px; /* Limit card width for better layout with multiple cards */
        width: 100%; /* Ensure card takes full width of its container if needed */
        min-height: 180px; /* Adjusted min height */
        justify-content: space-between; /* Space out content vertically */
    }
    .info{
        max-width:360px;
        width: 100%; /* Ensure info div takes full width of card */
    }
    .title{
      font-size:20px; /* Slightly larger title */
      font-weight:700;
      margin:0 0 8px; /* Adjusted margin */
      display: flex;
      align-items: center;
      justify-content: flex-start; /* Align title content to the left */
      color: var(--text-color); /* Ensure title color is clear */
    }
    .title .file-icon {
        width: 22px; /* Slightly larger icon */
        height: 22px;
        vertical-align: middle;
        margin-right: 10px; /* Adjusted margin */
        color: var(--accent1); /* Using accent1 for file icon */
    }
    .desc{
        font-size:14px; /* Slightly larger description */
        opacity:.8;
        margin:0 0 8px; /* Added margin-bottom */
    }
    .publisher { /* New style for publisher text */
        font-size: 12px;
        opacity: 0.6;
        margin-top: 5px;
        margin-bottom: 8px; /* Space before button */
        color: var(--muted-text); /* Muted color */
    }
    .download-btn{--pad:14px 20px;display:inline-flex;align-items:center;gap:10px;background:linear-gradient(90deg,var(--accent1),var(--accent2));padding:var(--pad);border-radius:12px;color:white;font-weight:700;text-decoration:none;box-shadow:0 6px 18px rgba(124,58,237,0.18);transition:transform .15s ease,box-shadow .15s ease}
    .download-btn:hover{transform:translateY(-3px);box-shadow:0 12px 30px rgba(6,182,212,0.12)}
    .download-btn:active{transform:translateY(-1px)}
    .icon{width:18px;height:18px;display:inline-block}
    
    .file-action-hint { /* New class for the hint text */
        font-size: 13px; /* Slightly larger for readability */
        opacity: .9; /* Make it a bit more prominent */
        margin-top: 10px; /* Space from button */
        color: var(--muted-text);
        line-height: 1.4;
    }

    /* Footer Styles */
    .page-footer {
        width: 100%;
        text-align: center;
        padding: 25px 20px;
        font-size: 13px;
        opacity: 0.7;
        color: var(--text-color);
        background: rgba(0,0,0,0.2); /* Slightly darker background for footer */
        margin-top: auto; /* Pushes footer to the bottom */
    }
    .page-footer p {
        margin: 0;
    }

    @media (max-width: 600px) {
        .header-actions {
            flex-direction: column; /* Stack buttons vertically on small screens */
            align-items: center; /* Center buttons */
            padding-left: 0;
            padding-right: 0;
            gap: 10px; /* Reduce gap */
        }
        .card {
            padding: 20px 25px;
            max-width: 100%; /* Allow cards to take full width on small screens */
            align-items: center; /* Center content on small screens */
            text-align: center;
        }
        .section-title {
            font-size: 24px;
            justify-content: center; /* Center section title on small screens */
            text-align: center;
        }
        .title {
            justify-content: center; /* Center file title on small screens */
        }
        #splash-screen .splash-title {
            font-size: 2.2em;
        }
        .modal-content {
            width: 95%; /* Make modal slightly wider on small screens */
            height: 90%;
            padding: 15px; /* Adjust padding for smaller screens */
        }
        .modal-close-btn {
            font-size: 2em; /* Smaller close button on small screens */
            width: 35px;
            height: 35px;
        }
    }
  </style>
</head>
<body>
  <!-- Splash Screen -->
  <div id="splash-screen">
    <svg class="splash-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <defs>
            <linearGradient id="splashIconGradient" x1="12" y1="2" x2="12" y2="22" gradientUnits="userSpaceOnUse">
                <stop stop-color="var(--icon-color-start)"/>
                <stop offset="1" stop-color="var(--icon-color-end)"/>
            </linearGradient>
        </defs>
        <path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6z" fill="url(#splashIconGradient)"/>
        <path d="M12.5 12h-3v-2h3V8.5L16 11l-3.5 2.5V12zM11.5 16h3v2h-3v2.5L8 18l3.5-2.5V16z" fill="var(--text-color)"/>
    </svg>
    <p class="splash-title">File Hub</p>
  </div>
  <!-- End Splash Screen -->

  <!-- Upload Form Modal -->
  <div id="upload-modal-overlay" class="modal-overlay">
    <div class="modal-content">
      <button class="modal-close-btn" id="upload-modal-close-btn">&times;</button>
      <iframe id="office-form-iframe" class="modal-iframe" src="" frameborder="0" allowfullscreen></iframe>
    </div>
  </div>
  <!-- End Upload Form Modal -->

  <main>
    <!-- Header Actions Section (Upload + Install) -->
    <div class="header-actions">
      <a id="upload-btn" class="action-btn" href="#" role="button" data-form-url="https://forms.office.com/r/fYUKMMHHVL">
        <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path d="M4 14.8996V20.8996C4 21.452 4.44772 21.8996 5 21.8996H19C19.5523 21.8996 20 21.452 20 20.8996V14.8996" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M12 16.8996V3.8996" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M7 8.8996L12 3.8996L17 8.8996" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        Upload Files
      </a>
      <button id="install-app-btn" class="action-btn" style="display: none;" aria-label="Install File Hub App">
        <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path d="M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M12 8V16" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M8 12H16" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        Install App
      </button>
      <!-- Developer Note: The "Install App" button is hidden by default and shown by JavaScript if PWA installation is available. -->
    </div>

    <!-- Start of File Section -->
    <section class="file-section">
      <h2 class="section-title">
        <svg class="section-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10 4H4C3.44772 4 3 4.44772 3 5V19C3 19.5523 3.44772 20 4 20H20C20.5523 20 21 19.5523 21 19V9C21 8.44772 20.5523 8 20 8H12L10 4Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        Pneumatics and Hydraulics
      </h2>
      <div class="section-cards-wrapper">

        <!-- Start of Download Card -->
        <div class="card" role="region" aria-label="download card for Lecture 1">
          <div class="info">
            <p class="title">
                <svg class="file-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M14 2V8H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Lecture 1
            </p>
            <p class="desc">Click to view this file.</p>
            <p class="publisher">Published by: Dr. Mahmoud Hamed.</p>
            <div style="margin-top:12px">
              <a class="download-btn" href="https://drive.google.com/file/d/1rLRCszhYdbH1xzMe_nOHAbzesxZN32Aa/view?usp=drive_link" target="_blank" rel="noopener noreferrer" role="button">
                <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                  <path d="M12 3v12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M21 21H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                View File
              </a>
            </div>
            <div class="file-action-hint">Once opened in Google Drive, click the <span style="color:var(--accent2); font-weight:700;">download icon (↓)</span> in the top-right corner to save the file to your device.</div>
            <!-- Developer Note: This card opens the file in a new tab. -->
          </div>
        </div>
        <!-- End of Download Card -->

        <!-- Start of Download Card - Duplicate this block for more files in this section -->
        <div class="card" role="region" aria-label="download card for Lecture 2">
          <div class="info">
            <p class="title">
                <svg class="file-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M14 2V8H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Lecture 2
            </p>
            <p class="desc">Click to view this file.</p>
            <p class="publisher">Published by: Dr. Mahmoud Hamed.</p>
            <div style="margin-top:12px">
              <a class="download-btn" href="https://drive.google.com/file/d/1QFP4odfAIu3-ukTrT6fys9Et8iOrzWIq/view?usp=drive_link" target="_blank" rel="noopener noreferrer" role="button">
                <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                  <path d="M12 3v12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M21 21H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                View File
              </a>
            </div>
            <div class="file-action-hint">Once opened in Google Drive, click the <span style="color:var(--accent2); font-weight:700;">download icon (↓)</span> in the top-right corner to save the file to your device.</div>
            <!-- Developer Note: This card opens the file in a new tab. -->
          </div>
        </div>
        <!-- End of Download Card -->

        <!-- Start of Download Card - Duplicate this block for more files in this section -->
        <div class="card" role="region" aria-label="download card for Lecture 3">
          <div class="info">
            <p class="title">
                <svg class="file-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M14 2V8H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Lecture 3
            </p>
            <p class="desc">Click to view this file.</p>
            <p class="publisher">Published by: Dr. Mahmoud Hamed.</p>
            <div style="margin-top:12px">
              <a class="download-btn" href="https://drive.google.com/file/d/1Ij56Ad3kgxddCuv0FKruCuSk6Y7LHcGp/view?usp=drive_link" target="_blank" rel="noopener noreferrer" role="button">
                <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                  <path d="M12 3v12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M21 21H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                View File
              </a>
            </div>
            <div class="file-action-hint">Once opened in Google Drive, click the <span style="color:var(--accent2); font-weight:700;">download icon (↓)</span> in the top-right corner to save the file to your device.</div>
            <!-- Developer Note: This card opens the file in a new tab. -->
          </div>
        </div>
        <!-- End of Download Card -->
        <!-- Start of Download Card - Duplicate this block for more files in this section -->
        <div class="card" role="region" aria-label="download card for Lecture 4">
          <div class="info">
            <p class="title">
                <svg class="file-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M14 2V8H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Lecture 4
            </p>
            <p class="desc">Click to view this file.</p>
            <p class="publisher">Published by: Dr. Mahmoud Hamed.</p>
            <div style="margin-top:12px">
              <a class="download-btn" href="https://drive.google.com/file/d/1iapOU-IZHW6MeAmtH6GSkQYj7hcXgO3F/view?usp=drive_link" target="_blank" rel="noopener noreferrer" role="button">
                <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                  <path d="M12 3v12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M21 21H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                View File
              </a>
            </div>
            <div class="file-action-hint">Once opened in Google Drive, click the <span style="color:var(--accent2); font-weight:700;">download icon (↓)</span> in the top-right corner to save the file to your device.</div>
            <!-- Developer Note: This card opens the file in a new tab. -->
          </div>
        </div>
        <!-- End of Download Card -->
          <!-- Start of Download Card - Duplicate this block for more files in this section -->
        <div class="card" role="region" aria-label="download card for Lecture 5">
          <div class="info">
            <p class="title">
                <svg class="file-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M14 2V8H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Lecture 5
            </p>
            <p class="desc">Click to view this file.</p>
            <p class="publisher">Published by: Dr. Mahmoud Hamed.</p>
            <div style="margin-top:12px">
              <a class="download-btn" href="https://drive.google.com/file/d/1nZimO8IL_3MdwT0o1TQYxT0WstoFh3py/view?usp=drive_link" target="_blank" rel="noopener noreferrer" role="button">
                <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                  <path d="M12 3v12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M21 21H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                View File
              </a>
            </div>
            <div class="file-action-hint">Once opened in Google Drive, click the <span style="color:var(--accent2); font-weight:700;">download icon (↓)</span> in the top-right corner to save the file to your device.</div>
            <!-- Developer Note: This card opens the file in a new tab. -->
          </div>
        </div>
        <!-- End of Download Card -->
      </div>
    </section>
    <!-- End of File Section -->

    <!-- Start of File Section - Duplicate this entire section block for more categories -->
    <section class="file-section">
      <h2 class="section-title">
        <svg class="section-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10 4H4C3.44772 4 3 4.44772 3 5V19C3 19.5523 3.44772 20 4 20H20C20.5523 20 21 19.5523 21 19V9C21 8.44772 20.5523 8 20 8H12L10 4Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        Materials Selection
      </h2>
      <div class="section-cards-wrapper">

        <!-- Start of Download Card -->
        <div class="card" role="region" aria-label="download card for Materials Lecture 1">
          <div class="info">
            <p class="title">
                <svg class="file-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M14 2V8H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Lecture 1
            </p>
            <p class="desc">Click to view this file.</p>
            <p class="publisher">Published by: Dr. Asmaa Saad.</p>
            <div style="margin-top:12px">
              <a class="download-btn" href="https://drive.google.com/file/d/1FXk0dBfUg-ueb8F7HQzJfjWYMy6x3yCw/view?usp=drive_link" target="_blank" rel="noopener noreferrer" role="button">
                <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                  <path d="M12 3v12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M21 21H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                View File
              </a>
            </div>
            <div class="file-action-hint">Once opened in Google Drive, click the <span style="color:var(--accent2); font-weight:700;">download icon (↓)</span> in the top-right corner to save the file to your device.</div>
            <!-- Developer Note: This card opens the file in a new tab. -->
          </div>
        </div>
        <!-- End of Download Card -->

        <!-- Start of Download Card -->
        <div class="card" role="region" aria-label="download card for Materials Lecture 2">
          <div class="info">
            <p class="title">
                <svg class="file-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M14 2V8H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Leceture 2
            </p>
            <p class="desc">Click to view this file.</p>
            <p class="publisher">Published by: Dr. Asmaa Saad.</p>
            <div style="margin-top:12px">
              <a class="download-btn" href="https://drive.google.com/file/d/1qvbPAJDarco3Zb9A4_n7eBu355RNvz7L/view?usp=drive_link" target="_blank" rel="noopener noreferrer" role="button">
                <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                  <path d="M12 3v12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M21 21H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                View File
              </a>
            </div>
            <div class="file-action-hint">The file will open in a new tab. Look for download options within the new window to save it.</div>
            <!-- Developer Note: This card opens the file in a new tab. -->
          </div>
        </div>
        <!-- End of Download Card -->

      </div>
    </section>
    <!-- End of File Section -->

  </main>

  <footer class="page-footer">
    <p>Last Updated: October 29, 2025</p>
  </footer>

  <script>
    // --- Service Worker Registration for PWA ---
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        // Developer Note: This path should point to your actual sw.js file in the root.
        // If you don't create sw.js separately, this registration will fail.
        navigator.serviceWorker.register('/sw.js') 
          .then(registration => {
            console.log('Service Worker registered with scope:', registration.scope);
          })
          .catch(error => {
            console.error('Service Worker registration failed:', error);
          });
      });
    }

    let deferredPrompt; // To store the event for later use

    document.addEventListener('DOMContentLoaded', () => {
      // --- Splash screen logic ---
      const splashScreen = document.getElementById('splash-screen');
      setTimeout(() => {
        splashScreen.classList.add('hidden');
        splashScreen.addEventListener('transitionend', () => {
          splashScreen.remove();
        }, { once: true });
      }, 2000); // Display for 2 seconds

      // --- PWA Install Button Logic ---
      const installAppBtn = document.getElementById('install-app-btn');

      window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault(); // Prevent the mini-infobar from appearing on mobile
        deferredPrompt = e; // Stash the event so it can be triggered later.
        installAppBtn.style.display = 'flex'; // Show the install button
        console.log('beforeinstallprompt fired, install button shown.');
      });

      installAppBtn.addEventListener('click', async () => {
        if (deferredPrompt) {
          deferredPrompt.prompt(); // Show the installation prompt
          const { outcome } = await deferredPrompt.userChoice; // Wait for the user to respond
          console.log(`User response to the install prompt: ${outcome}`);
          if (outcome === 'accepted') {
            installAppBtn.style.display = 'none'; // Hide the button if user accepts
          }
          deferredPrompt = null; // Clear the deferred prompt
        }
      });

      window.addEventListener('appinstalled', () => {
        console.log('PWA was installed!');
        installAppBtn.style.display = 'none'; // Hide the button after successful installation
      });


      // --- Upload Modal Logic ---
      const uploadButton = document.getElementById('upload-btn');
      const uploadModalOverlay = document.getElementById('upload-modal-overlay');
      const uploadModalCloseBtn = document.getElementById('upload-modal-close-btn');
      const officeFormIframe = document.getElementById('office-form-iframe');

      uploadButton.addEventListener('click', (e) => {
        e.preventDefault();
        const formUrl = uploadButton.dataset.formUrl;
        if (formUrl) {
          officeFormIframe.src = formUrl;
          uploadModalOverlay.classList.add('visible');
          document.body.style.overflow = 'hidden';
        } else {
          console.error('Upload button is missing data-form-url attribute.');
        }
      });

      uploadModalCloseBtn.addEventListener('click', () => {
        uploadModalOverlay.classList.remove('visible');
        officeFormIframe.src = '';
        document.body.style.overflow = '';
      });

      uploadModalOverlay.addEventListener('click', (e) => {
        if (e.target === uploadModalOverlay) {
          uploadModalOverlay.classList.remove('visible');
          officeFormIframe.src = '';
          document.body.style.overflow = '';
        }
      });
      
      // --- File View/Download Instructions Logic ---
      const downloadButtons = document.querySelectorAll('.download-btn');

      downloadButtons.forEach(anchor => {
        const fileUrl = anchor.href; // Get URL directly from href as it's now set

        const cardInfo = anchor.closest('.info');
        const hintDiv = cardInfo.querySelector('.file-action-hint');

        if (fileUrl && fileUrl.includes('drive.google.com')) {
          hintDiv.innerHTML = 'Once opened in Google Drive, click the <span style="color:var(--accent2); font-weight:700;">download icon (↓)</span> in the top-right corner to save the file to your device.';
        } else if (fileUrl && fileUrl !== '#') {
          hintDiv.innerHTML = 'The file will open in a new tab. Look for download options within the new window to save it.';
        } else {
          hintDiv.innerHTML = 'File URL is not specified.'; // Fallback for missing URLs
        }
        hintDiv.style.display = 'block'; // Ensure hint is always visible
      });
    });
  </script>
</body>
</html>
