<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>File Hub - Downloads</title>

  <!-- PWA Meta Tags -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="File Hub">
  <link rel="apple-touch-icon" href="/icons/icon-512x512.png"> <!-- Path to your PWA icon on GitHub -->
  <link rel="manifest" href="/manifest.json"> <!-- Path to your manifest.json on GitHub -->
  <!-- Developer Note: For PWA, ensure manifest.json and sw.js are in the root directory.
       Replace /icons/icon-512x512.png with the actual path to your highest-res PWA icon. -->

  <!-- Favicon for Files and Mechatronics -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cdefs%3E%3ClinearGradient id='a' x1='12' y1='2' x2='12' y2='22' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%237c3aed'/%3E%3Cstop offset='1' stop-color='%2306b6d4'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6z' fill='url(%23a)'/%3E%3Cpath d='M12.5 12h-3v-2h3V8.5L16 11l-3.5 2.5V12zM11.5 16h3v2h-3v2.5L8 18l3.5-2.5V16z' fill='%23e6eef8'/%3E%3C/svg%3E">
  <!-- Developer Note: This favicon represents a document with a gear, symbolizing files and mechatronics. -->

  <style>
    :root{
      --bg:#0f172a;
      --card:#0b1220;
      --accent1:#7c3aed;
      --accent2:#06b6d4;
      --glass: rgba(255,255,255,0.04);
      --text-color: #e6eef8;
      --muted-text: #b0bec5;
      --sidebar-width: 250px;
      --header-height: 70px;
      --footer-height: 70px; /* Defined for calc() usage */
      --border-radius-base: 12px;
      --shadow-light: 0 4px 15px rgba(0,0,0,0.3);
      --shadow-medium: 0 8px 30px rgba(2,6,23,0.7);
      --shadow-accent: 0 6px 18px rgba(124,58,237,0.18);
      --shadow-accent-hover: 0 12px 30px rgba(6,182,212,0.12);
    }
    html,body{
        height:100%;
        margin:0;
        font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,'Helvetica Neue',Arial;
        line-height: 1.6;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
    }
    body{
      display: flex;
      flex-direction: column; /* Stack splash screen, then app-container */
      min-height: 100vh;
      background:radial-gradient(ellipse at bottom, #071023 0%, #021029 100%); /* Radial gradient for deeper feel */
      color:var(--text-color);
      justify-content: space-between;
      overflow-x: hidden;
    }

    /* Splash Screen Styles */
    #splash-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(ellipse at bottom, #071023 0%, #021029 100%);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        opacity: 1;
        visibility: visible;
        transition: opacity 0.5s ease-out, visibility 0.5s ease-out;
    }
    #splash-screen.hidden {
        opacity: 0;
        visibility: hidden;
    }
    #splash-screen .splash-icon {
        width: 100px;
        height: 100px;
        margin-bottom: 20px;
        --icon-color-start: var(--accent1);
        --icon-color-end: var(--accent2);
        filter: drop-shadow(0 0 25px rgba(124,58,237,0.5)); /* More pronounced glow */
    }
    #splash-screen .splash-title {
        font-size: 3.5em; /* Slightly larger title */
        font-weight: 800;
        background: linear-gradient(90deg, var(--accent1), var(--accent2));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin: 0;
        letter-spacing: 3px; /* More spacing */
        filter: drop-shadow(0 0 10px rgba(6,182,212,0.3));
    }

    /* Main App Container Structure */
    .app-container {
      display: flex;
      flex-direction: column;
      flex-grow: 1;
      min-height: 100vh;
    }

    /* App Header */
    .app-header {
      background: var(--card);
      height: var(--header-height);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
      box-shadow: var(--shadow-light);
      z-index: 100;
      border-bottom: 1px solid rgba(255,255,255,0.06);
    }
    .app-header .app-logo-title {
        display: flex;
        align-items: center;
        gap: 10px;
    }
    .app-header .app-logo {
        width: 35px;
        height: 35px;
        --icon-color-start: var(--accent1);
        --icon-color-end: var(--accent2);
        filter: drop-shadow(0 0 8px rgba(124,58,237,0.2));
    }
    .app-header .app-title {
      font-size: 1.8em;
      font-weight: 800;
      background: linear-gradient(90deg, var(--accent1), var(--accent2));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin: 0;
      letter-spacing: 1px;
    }
    .app-header .header-actions {
        display: flex;
        align-items: center;
        gap: 15px;
    }

    /* Hamburger Menu Button (Mobile Only) */
    .hamburger-menu-btn {
        display: none;
        background: none;
        border: none;
        color: var(--text-color);
        font-size: 2em;
        cursor: pointer;
        padding: 5px;
        order: -1;
        transition: color 0.2s ease;
    }
    .hamburger-menu-btn:hover {
        color: var(--accent2);
    }

    /* App Main Content (Sidebar + Content Area) */
    .app-main-content {
      display: flex;
      flex-grow: 1;
      position: relative;
    }

    /* Sidebar Navigation */
    .app-sidebar {
      width: var(--sidebar-width);
      min-width: var(--sidebar-width);
      background: var(--card);
      padding: 20px 0;
      box-shadow: var(--shadow-light);
      display: flex;
      flex-direction: column;
      gap: 10px;
      transform: translateX(0);
      transition: transform 0.3s ease-out;
      z-index: 99;
      flex-shrink: 0;
      border-right: 1px solid rgba(255,255,255,0.04);
    }
    .app-sidebar.hidden-mobile {
        transform: translateX(-100%);
        position: absolute;
        height: 100%;
        top: 0;
        left: 0;
    }
    .app-sidebar.visible-mobile {
        transform: translateX(0);
    }
    .app-sidebar a {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 12px 25px;
      color: var(--muted-text);
      text-decoration: none;
      font-weight: 600;
      font-size: 1.1em;
      transition: background-color 0.2s ease, color 0.2s ease, border-left-color 0.2s ease;
      border-left: 4px solid transparent;
      position: relative;
    }
    .app-sidebar a::before { /* Animated border effect */
        content: '';
        position: absolute;
        left: 0;
        top: 0;
        height: 100%;
        width: 4px;
        background: linear-gradient(0deg, var(--accent1), var(--accent2));
        opacity: 0;
        transition: opacity 0.2s ease;
    }
    .app-sidebar a:hover::before {
        opacity: 0.5;
    }
    .app-sidebar a.active::before {
        opacity: 1;
    }

    .app-sidebar a:hover {
      background-color: var(--glass);
      color: var(--text-color);
    }
    .app-sidebar a.active {
      background: linear-gradient(90deg, rgba(124,58,237,0.2), rgba(6,182,212,0.1));
      color: var(--accent2);
      border-left: 4px solid var(--accent1); /* Stronger active border */
      padding-left: 21px;
    }
    .app-sidebar a .sidebar-icon {
        width: 22px;
        height: 22px;
        color: inherit;
        filter: drop-shadow(0 0 5px rgba(124,58,237,0.1));
    }

    /* Main Content Area */
    .app-content-area {
      flex-grow: 1;
      padding: 30px;
      overflow-y: auto;
      height: calc(100vh - var(--header-height) - var(--footer-height));
      background-color: var(--bg);
      /* Subtle grid background for tech feel */
      background-image: radial-gradient(#ffffff0a 1px, transparent 1px),
                        radial-gradient(#ffffff0a 1px, var(--bg) 1px);
      background-size: 30px 30px;
      background-position: 0 0, 15px 15px;
    }

    /* Section & Card Styles (mostly existing, integrated into new structure) */
    .file-section {
        width: 100%;
        max-width: 900px;
        margin: 0 auto 40px auto;
        padding: 30px; /* Increased padding */
        background: var(--card);
        border-radius: var(--border-radius-base);
        box-shadow: var(--shadow-light);
        border: 1px solid rgba(255,255,255,0.08); /* More visible border */
    }
    .section-title {
        font-size: 28px;
        font-weight: 700;
        margin: 0 0 30px 0; /* Adjusted margin for consistency */
        color: var(--accent2);
        text-align: left;
        text-transform: uppercase;
        letter-spacing: 1.5px;
        border-bottom: 2px solid rgba(6, 182, 212, 0.4); /* Stronger underline */
        padding-bottom: 12px; /* Increased padding */
        display: flex;
        align-items: center;
        gap: 18px; /* Increased gap */
        filter: drop-shadow(0 0 8px rgba(6,182,212,0.2)); /* Subtle glow */
    }
    .section-title .section-icon {
        width: 32px;
        height: 32px;
        color: var(--accent1);
        transition: transform 0.2s ease-in-out;
        filter: drop-shadow(0 0 5px rgba(124,58,237,0.2));
    }
    .section-title:hover .section-icon {
        transform: scale(1.1);
    }
    .section-cards-wrapper {
        display: flex;
        flex-wrap: wrap;
        gap: 30px; /* Increased gap between cards */
        justify-content: flex-start;
    }

    .card{
        background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03)); /* More prominent glass effect */
        backdrop-filter: blur(5px); /* Add blur for glassmorphism */
        border-radius:var(--border-radius-base);
        padding:30px 40px; /* Increased padding */
        box-shadow:var(--shadow-medium);
        display:flex;
        gap:20px;
        align-items: flex-start;
        border:1px solid rgba(255,255,255,0.1); /* Stronger border for glass effect */
        flex-direction: column;
        text-align: left;
        max-width: 380px;
        width: 100%;
        min-height: 200px; /* Slightly increased min height */
        justify-content: space-between;
        transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
    }
    .card:hover {
        transform: translateY(-8px); /* More pronounced lift */
        box-shadow: 0 15px 50px rgba(2,6,23,0.95); /* Deeper shadow on hover */
        background:linear-gradient(180deg, rgba(124,58,237,0.1), rgba(6,182,212,0.08)); /* Subtle color shift */
    }
    .info{
        max-width:360px;
        width: 100%;
    }
    .title{
      font-size:22px; /* Slightly larger title */
      font-weight:700;
      margin:0 0 10px 0; /* Adjusted margin */
      display: flex;
      align-items: center;
      justify-content: flex-start;
      color: var(--text-color);
    }
    .title .file-icon {
        width: 24px; /* Slightly larger icon */
        height: 24px;
        vertical-align: middle;
        margin-right: 12px; /* Adjusted margin */
        color: var(--accent1);
        filter: drop-shadow(0 0 5px rgba(124,58,237,0.2));
    }
    .desc{
        font-size:15px; /* Slightly larger description */
        opacity:.85; /* Slightly more opaque */
        margin:0 0 12px 0; /* Adjusted margin */
    }
    .publisher {
        font-size: 13px; /* Slightly larger publisher text */
        opacity: 0.7; /* More opaque */
        margin-top: 8px;
        margin-bottom: 12px; /* Space before button */
        color: var(--muted-text);
        font-style: italic;
    }
    .download-btn{
        --pad:14px 20px;
        display:inline-flex;
        align-items:center;
        gap:10px;
        background:linear-gradient(90deg,var(--accent1),var(--accent2));
        padding:var(--pad);
        border-radius:var(--border-radius-base);
        color:white;
        font-weight:700;
        text-decoration:none;
        box-shadow:var(--shadow-accent);
        transition:transform .2s ease,box-shadow .2s ease; /* Smoother transition */
        border: none;
        cursor: pointer;
        font-family: inherit;
        font-size: 1em;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }
    .download-btn:hover{transform:translateY(-4px);box-shadow:var(--shadow-accent-hover)} /* More pronounced hover */
    .download-btn:active{transform:translateY(-2px)}
    .icon{width:18px;height:18px;display:inline-block}
    
    .file-action-hint {
        font-size: 14px; /* Larger hint text */
        opacity: .95; /* More prominent */
        margin-top: 15px; /* More space from button */
        color: var(--muted-text);
        line-height: 1.5;
        background-color: var(--glass);
        padding: 10px 15px;
        border-radius: 10px;
        border: 1px dashed rgba(6,182,212,0.3); /* Accent dashed border */
        box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }

    /* Upload Form Modal (reused from previous code) */
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.85); /* Darker overlay */
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1001;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease-out, visibility 0.3s ease-out;
    }
    .modal-overlay.visible {
        opacity: 1;
        visibility: visible;
    }
    .modal-content {
        background: linear-gradient(180deg, var(--card), var(--bg)); /* Gradient for modal background */
        border-radius: var(--border-radius-base);
        box-shadow: 0 20px 60px rgba(0,0,0,0.9); /* Deeper shadow */
        width: 90%;
        max-width: 1000px; /* Slightly wider modal */
        height: 85%; /* Taller modal */
        position: relative;
        padding: 25px; /* Adjusted padding */
        display: flex;
        flex-direction: column;
        border: 2px solid rgba(124,58,237,0.2); /* Accent border for modal */
    }
    .modal-close-btn {
        position: absolute;
        top: 20px; /* Adjusted position */
        right: 20px;
        background: none;
        border: none;
        font-size: 2.8em; /* Slightly larger X */
        color: var(--muted-text);
        cursor: pointer;
        line-height: 1;
        padding: 0 5px;
        transition: color 0.2s ease, transform 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 45px; /* Larger clickable area */
        height: 45px;
        border-radius: 50%;
        background-color: rgba(255,255,255,0.05); /* Subtle background */
    }
    .modal-close-btn:hover {
        color: var(--text-color); /* Brighter on hover */
        background-color: rgba(124,58,237,0.3); /* Accent background on hover */
        transform: rotate(90deg) scale(1.1);
    }
    .modal-iframe {
        width: 100%;
        height: 100%;
        border: none;
        border-radius: 10px; /* More rounded iframe corners */
        background-color: #fff; /* Ensure white background for forms */
        box-shadow: inset 0 0 10px rgba(0,0,0,0.1);
    }

    /* PWA Install Button specific styling */
    #install-app-icon-btn {
        background: var(--glass);
        border: 1px solid rgba(255,255,255,0.1);
        color: var(--accent2);
        box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        padding: 8px 15px;
        border-radius: var(--border-radius-base);
        font-size: 0.9em;
        font-weight: 600;
        white-space: nowrap;
        display: flex;
        align-items: center;
        gap: 8px;
    }
    #install-app-icon-btn svg {
        width: 18px;
        height: 18px;
        stroke-width: 1.8;
    }
    #install-app-icon-btn:hover {
        background: linear-gradient(90deg, var(--accent1), var(--accent2));
        color: white;
        box-shadow: 0 6px 20px rgba(124,58,237,0.25);
        transform: translateY(-2px);
    }
    #install-app-icon-btn:hover svg {
        stroke: white;
    }

    /* User Feedback Notification for PWA */
    #pwa-notification {
        position: fixed;
        bottom: 30px;
        left: 50%;
        transform: translateX(-50%);
        background: var(--accent1);
        color: white;
        padding: 12px 25px; /* More padding */
        border-radius: 10px; /* Slightly more rounded */
        box-shadow: 0 6px 20px rgba(0,0,0,0.5);
        z-index: 1003;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.4s ease-out, visibility 0.4s ease-out; /* Smoother transition */
        display: flex;
        align-items: center;
        gap: 12px;
        max-width: 90%;
        text-align: center;
    }
    #pwa-notification.show {
        opacity: 1;
        visibility: visible;
    }
    #pwa-notification svg {
        width: 22px;
        height: 22px;
        stroke: white;
        stroke-width: 2;
    }


    /* Footer Styles */
    .page-footer {
        width: 100%;
        text-align: center;
        padding: 25px 20px;
        font-size: 13px;
        opacity: 0.7;
        color: var(--text-color);
        background: rgba(0,0,0,0.2);
        flex-shrink: 0;
        border-top: 1px solid rgba(255,255,255,0.04);
        box-shadow: 0 -2px 10px rgba(0,0,0,0.2);
    }
    .page-footer p {
        margin: 0;
    }

    /* Responsive Adjustments */
    @media (max-width: 900px) {
        .hamburger-menu-btn {
            display: block;
        }
        .app-sidebar {
            position: fixed;
            left: 0;
            top: 0;
            height: 100vh;
            z-index: 1002;
            box-shadow: 5px 0 15px rgba(0,0,0,0.5);
            transform: translateX(-100%);
            background: var(--card);
            border-right: none;
        }
        .app-sidebar.visible-mobile {
            transform: translateX(0);
        }
        .app-main-content {
            margin-left: 0;
        }
        /* Overlay for mobile sidebar */
        .sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1001;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease-out, visibility 0.3s ease-out;
        }
        .sidebar-overlay.visible-mobile {
            opacity: 1;
            visibility: visible;
        }
        .file-section {
            padding: 20px; /* Adjust padding for smaller sections */
        }
        .section-cards-wrapper {
            justify-content: center; /* Center cards on smaller screens */
        }
    }

    @media (max-width: 600px) {
        .app-header {
            padding: 0 10px;
        }
        .app-header .app-title {
            font-size: 1.5em;
        }
        .header-actions {
            gap: 10px;
        }
        .card {
            padding: 20px 25px;
            max-width: 100%;
            align-items: center;
            text-align: center;
        }
        .section-title {
            font-size: 24px;
            justify-content: center;
            text-align: center;
            gap: 10px;
        }
        .title {
            justify-content: center;
        }
        #splash-screen .splash-title {
            font-size: 2.5em; /* Adjusted for smaller screens */
        }
        .modal-content {
            width: 95%;
            height: 90%;
            padding: 15px;
        }
        .modal-close-btn {
            font-size: 2em;
            width: 35px;
            height: 35px;
        }
        .app-content-area {
            padding: 15px; /* Reduced padding */
        }
        #install-app-icon-btn {
            padding: 6px 12px;
            font-size: 0.8em;
        }
        .file-action-hint {
            font-size: 12px;
            padding: 8px 10px;
        }
    }
  </style>
</head>
<body>
  <!-- Developer Note:
       To make this a fully functional PWA for desktop installation:
       1. Create a file named 'manifest.json' in your GitHub project's root directory.
          Paste the following content into it:
          ```json
          {
            "name": "File Hub",
            "short_name": "File Hub",
            "start_url": ".",
            "display": "standalone",
            "background_color": "#071023",
            "theme_color": "#06b6d4",
            "icons": [
              {
                "src": "/icons/icon-512x512.png",
                "sizes": "512x512",
                "type": "image/png"
              },
              {
                "src": "/icons/icon-192x192.png",
                "sizes": "192x192",
                "type": "image/png"
              },
              {
                "src": "/icons/icon-144x144.png",
                "sizes": "144x144",
                "type": "image/png"
              },
              {
                "src": "/icons/icon-96x96.png",
                "sizes": "96x96",
                "type": "image/png"
              },
              {
                "src": "/icons/icon-72x72.png",
                "sizes": "72x72",
                "type": "image/png"
              },
              {
                "src": "/icons/icon-48x48.png",
                "sizes": "48x48",
                "type": "image/png"
              }
            ]
          }
          ```
       2. Create a folder named 'icons' in your GitHub project's root directory.
       3. Place your application icon (e.g., a 512x512 PNG) inside the 'icons' folder and name it 'icon-512x512.png'.
          (Optionally, add other sizes as specified in the manifest for better display across devices).
       4. Create a file named 'sw.js' in your GitHub project's root directory.
          Paste the following content into it:
          ```javascript
          // sw.js (Service Worker)
          // A minimal service worker that enables PWA installation.
          // For full offline capabilities, you'd add caching strategies here.

          self.addEventListener('install', (event) => {
            console.log('Service Worker: Installed');
            self.skipWaiting(); // Forces the waiting service worker to become the active service worker
          });

          self.addEventListener('activate', (event) => {
            console.log('Service Worker: Activated');
            event.waitUntil(clients.claim()); // Take control of un-controlled clients immediately
          });

          self.addEventListener('fetch', (event) => {
            // For now, we're just letting all network requests pass through.
            // To add offline capabilities, you would implement caching strategies here.
            // Example: event.respondWith(caches.match(event.request).then(response => response || fetch(event.request)));
            event.respondWith(fetch(event.request));
          });
          ```
       5. Create a file named 'videos.html' in your GitHub project's root directory.
          This file can be empty or contain your actual video content.
       After these steps, when your site is live on GitHub Pages, browsers supporting PWA will show an install prompt.
  -->

  <!-- User Feedback Notification for PWA -->
  <div id="pwa-notification" class="pwa-notification">
    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M12 8V16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M8 12H16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    <span id="pwa-notification-message"></span>
  </div>

  <!-- Splash Screen -->
  <div id="splash-screen">
    <svg class="splash-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <defs>
            <linearGradient id="splashIconGradient" x1="12" y1="2" x2="12" y2="22" gradientUnits="userSpaceOnUse">
                <stop stop-color="var(--icon-color-start)"/>
                <stop offset="1" stop-color="var(--icon-color-end)"/>
            </linearGradient>
        </defs>
        <path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6z" fill="url(#splashIconGradient)"/>
        <path d="M12.5 12h-3v-2h3V8.5L16 11l-3.5 2.5V12zM11.5 16h3v2h-3v2.5L8 18l3.5-2.5V16z" fill="var(--text-color)"/>
    </svg>
    <p class="splash-title">File Hub</p>
  </div>
  <!-- End Splash Screen -->

  <!-- Upload Form Modal -->
  <div id="upload-modal-overlay" class="modal-overlay">
    <div class="modal-content">
      <button class="modal-close-btn" id="upload-modal-close-btn">&times;</button>
      <iframe id="office-form-iframe" class="modal-iframe" src="" frameborder="0" allowfullscreen></iframe>
    </div>
  </div>
  <!-- End Upload Form Modal -->

  <div class="app-container">
    <header class="app-header">
      <button class="hamburger-menu-btn" id="hamburger-menu-btn">☰</button>
      <div class="app-logo-title">
        <svg class="app-logo" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <linearGradient id="appLogoGradient" x1="12" y1="2" x2="12" y2="22" gradientUnits="userSpaceOnUse">
                    <stop stop-color="var(--icon-color-start)"/>
                    <stop offset="1" stop-color="var(--icon-color-end)"/>
                </linearGradient>
            </defs>
            <path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6z" fill="url(#appLogoGradient)"/>
            <path d="M12.5 12h-3v-2h3V8.5L16 11l-3.5 2.5V12zM11.5 16h3v2h-3v2.5L8 18l3.5-2.5V16z" fill="var(--text-color)"/>
        </svg>
        <p class="app-title">File Hub</p>
      </div>
      <div class="header-actions">
        <button id="install-app-icon-btn" class="action-btn" aria-label="Install File Hub App">
          <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M12 8V16" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M8 12H16" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Install App
        </button>
        <!-- Developer Note: The "Install App" button is always visible. Its click action triggers the PWA install prompt. -->
      </div>
    </header>

    <div class="app-main-content">
      <nav class="app-sidebar" id="app-sidebar">
        <a href="#" id="nav-downloads" class="active">
          <svg class="sidebar-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M10 4H4C3.44772 4 3 4.44772 3 5V19C3 19.5523 3.44772 20 4 20H20C20.5523 20 21 19.5523 21 19V9C21 8.44772 20.5523 8 20 8H12L10 4Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Downloads
        </a>
        <a href="#" id="nav-upload-files">
          <svg class="sidebar-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M4 14.8996V20.8996C4 21.452 4.44772 21.8996 5 21.8996H19C19.5523 21.8996 20 21.452 20 20.8996V14.8996" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M12 16.8996V3.8996" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M7 8.8996L12 3.8996L17 8.8996" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Upload Files
        </a>
        <a href="#" id="nav-videos">
          <svg class="sidebar-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M18 10V14C18 14.5304 17.7893 15.0391 17.4142 15.4142C17.0391 15.7893 16.5304 16 16 16H4C3.44772 16 3 15.5523 3 15V9C3 8.44772 3.44772 8 4 8H8L10 4H14L16 8H18Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Videos
        </a>
        <!-- Add more navigation links here if needed -->
      </nav>
      <!-- Overlay for mobile sidebar -->
      <div class="sidebar-overlay" id="sidebar-overlay"></div>


      <div class="app-content-area" id="app-content-area">
        <!-- Content for Downloads (initially visible) -->
        <div id="downloads-content" class="content-section">
          <!-- Start of File Section -->
          <section class="file-section">
            <h2 class="section-title">
              <svg class="section-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M10 4H4C3.44772 4 3 4.44772 3 5V19C3 19.5523 3.44772 20 4 20H20C20.5523 20 21 19.5523 21 19V9C21 8.44772 20.5523 8 20 8H12L10 4Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Pneumatics and Hydraulics
            </h2>
            <div class="section-cards-wrapper">
              <!-- Start of Download Card -->
              <div class="card" role="region" aria-label="download card for Lecture 1">
                <div class="info">
                  <p class="title">
                      <svg class="file-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M14 2V8H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      Lecture 1
                  </p>
                  <p class="desc">Click to view this file.</p>
                  <p class="publisher">Published by: Dr. Mahmoud Hamed.</p>
                  <div style="margin-top:12px">
                    <a class="download-btn" href="https://drive.google.com/file/d/1rLRCszhYdbH1xzMe_nOHAbzesxZN32Aa/view?usp=drive_link" target="_blank" rel="noopener noreferrer" role="button">
                      <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path d="M12 3v12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M21 21H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      View File
                    </a>
                  </div>
                  <div class="file-action-hint">Once opened in Google Drive, click the <span style="color:var(--accent2); font-weight:700;">download icon (↓)</span> in the top-right corner to save the file to your device.</div>
                  <!-- Developer Note: This card opens the file in a new tab. -->
                </div>
              </div>
              <!-- End of Download Card -->

              <!-- Start of Download Card - Duplicate this block for more files in this section -->
              <div class="card" role="region" aria-label="download card for Lecture 2">
                <div class="info">
                  <p class="title">
                      <svg class="file-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M14 2V8H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      Lecture 2
                  </p>
                  <p class="desc">Click to view this file.</p>
                  <p class="publisher">Published by: Dr. Mahmoud Hamed.</p>
                  <div style="margin-top:12px">
                    <a class="download-btn" href="https://drive.google.com/file/d/1QFP4odfAIu3-ukTrT6fys9Et8iOrzWIq/view?usp=drive_link" target="_blank" rel="noopener noreferrer" role="button">
                      <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path d="M12 3v12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M21 21H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      View File
                    </a>
                  </div>
                  <div class="file-action-hint">Once opened in Google Drive, click the <span style="color:var(--accent2); font-weight:700;">download icon (↓)</span> in the top-right corner to save the file to your device.</div>
                  <!-- Developer Note: This card opens the file in a new tab. -->
                </div>
              </div>
              <!-- End of Download Card -->

              <!-- Start of Download Card - Duplicate this block for more files in this section -->
              <div class="card" role="region" aria-label="download card for Lecture 3">
                <div class="info">
                  <p class="title">
                      <svg class="file-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M14 2V8H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      Lecture 3
                  </p>
                  <p class="desc">Click to view this file.</p>
                  <p class="publisher">Published by: Dr. Mahmoud Hamed.</p>
                  <div style="margin-top:12px">
                    <a class="download-btn" href="https://drive.google.com/file/d/1Ij56Ad3kgxddCuv0FKruCuSk6Y7LHcGp/view?usp=drive_link" target="_blank" rel="noopener noreferrer" role="button">
                      <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path d="M12 3v12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M21 21H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      View File
                    </a>
                  </div>
                  <div class="file-action-hint">Once opened in Google Drive, click the <span style="color:var(--accent2); font-weight:700;">download icon (↓)</span> in the top-right corner to save the file to your device.</div>
                  <!-- Developer Note: This card opens the file in a new tab. -->
                </div>
              </div>
              <!-- End of Download Card -->
              <!-- Start of Download Card - Duplicate this block for more files in this section -->
              <div class="card" role="region" aria-label="download card for Lecture 4">
                <div class="info">
                  <p class="title">
                      <svg class="file-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M14 2V8H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      Lecture 4
                  </p>
                  <p class="desc">Click to view this file.</p>
                  <p class="publisher">Published by: Dr. Mahmoud Hamed.</p>
                  <div style="margin-top:12px">
                    <a class="download-btn" href="https://drive.google.com/file/d/1iapOU-IZHW6MeAmtH6GSkQYj7hcXgO3F/view?usp=drive_link" target="_blank" rel="noopener noreferrer" role="button">
                      <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path d="M12 3v12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M21 21H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      View File
                    </a>
                  </div>
                  <div class="file-action-hint">Once opened in Google Drive, click the <span style="color:var(--accent2); font-weight:700;">download icon (↓)</span> in the top-right corner to save the file to your device.</div>
                  <!-- Developer Note: This card opens the file in a new tab. -->
                </div>
              </div>
              <!-- End of Download Card -->
                <!-- Start of Download Card - Duplicate this block for more files in this section -->
              <div class="card" role="region" aria-label="download card for Lecture 5">
                <div class="info">
                  <p class="title">
                      <svg class="file-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M14 2V8H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      Lecture 5
                  </p>
                  <p class="desc">Click to view this file.</p>
                  <p class="publisher">Published by: Dr. Mahmoud Hamed.</p>
                  <div style="margin-top:12px">
                    <a class="download-btn" href="https://drive.google.com/file/d/1nZimO8IL_3MdwT0o1TQYxT0WstoFh3py/view?usp=drive_link" target="_blank" rel="noopener noreferrer" role="button">
                      <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path d="M12 3v12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M21 21H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      View File
                    </a>
                  </div>
                  <div class="file-action-hint">Once opened in Google Drive, click the <span style="color:var(--accent2); font-weight:700;">download icon (↓)</span> in the top-right corner to save the file to your device.</div>
                  <!-- Developer Note: This card opens the file in a new tab. -->
                </div>
              </div>
              <!-- End of Download Card -->
            </div>
          </section>
          <!-- End of File Section -->

          <!-- Start of File Section - Duplicate this entire section block for more categories -->
          <section class="file-section">
            <h2 class="section-title">
              <svg class="section-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M10 4H4C3.44772 4 3 4.44772 3 5V19C3 19.5523 3.44772 20 4 20H20C20.5523 20 21 19.5523 21 19V9C21 8.44772 20.5523 8 20 8H12L10 4Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Materials Selection
            </h2>
            <div class="section-cards-wrapper">

              <!-- Start of Download Card -->
              <div class="card" role="region" aria-label="download card for Materials Lecture 1">
                <div class="info">
                  <p class="title">
                      <svg class="file-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M14 2V8H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      Lecture 1
                  </p>
                  <p class="desc">Click to view this file.</p>
                  <p class="publisher">Published by: Dr. Asmaa Saad.</p>
                  <div style="margin-top:12px">
                    <a class="download-btn" href="https://drive.google.com/file/d/1FXk0dBfUg-ueb8F7HQzJfjWYMy6x3yCw/view?usp=drive_link" target="_blank" rel="noopener noreferrer" role="button">
                      <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path d="M12 3v12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M21 21H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      View File
                    </a>
                  </div>
                  <div class="file-action-hint">Once opened in Google Drive, click the <span style="color:var(--accent2); font-weight:700;">download icon (↓)</span> in the top-right corner to save the file to your device.</div>
                  <!-- Developer Note: This card opens the file in a new tab. -->
                </div>
              </div>
              <!-- End of Download Card -->

              <!-- Start of Download Card -->
              <div class="card" role="region" aria-label="download card for Materials Lecture 2">
                <div class="info">
                  <p class="title">
                      <svg class="file-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M14 2V8H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      Leceture 2
                  </p>
                  <p class="desc">Click to view this file.</p>
                  <p class="publisher">Published by: Dr. Asmaa Saad.</p>
                  <div style="margin-top:12px">
                    <a class="download-btn" href="https://drive.google.com/file/d/1qvbPAJDarco3Zb9A4_n7eBu355RNvz7L/view?usp=drive_link" target="_blank" rel="noopener noreferrer" role="button">
                      <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path d="M12 3v12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M21 21H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      View File
                    </a>
                  </div>
                  <div class="file-action-hint">The file will open in a new tab. Look for download options within the new window to save it.</div>
                  <!-- Developer Note: This card opens the file in a new tab. -->
                </div>
              </div>
              <!-- End of Download Card -->

            </div>
          </section>
          <!-- End of File Section -->
        </div>

        <!-- Content for Videos (will be loaded dynamically from videos.html) -->
        <div id="videos-content" class="content-section" style="display: none;">
          <!-- Developer Note: Content from videos.html will be loaded here dynamically. -->
          <div class="file-section" style="text-align: center; padding: 50px; color: var(--muted-text);">
              <svg style="width: 60px; height: 60px; color: var(--accent1); margin-bottom: 15px; filter: drop-shadow(0 0 10px rgba(124,58,237,0.3));" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M18 10V14C18 14.5304 17.7893 15.0391 17.4142 15.4142C17.0391 15.7893 16.5304 16 16 16H4C3.44772 16 3 15.5523 3 15V9C3 8.44772 3.44772 8 4 8H8L10 4H14L16 8H18Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <h3 class="section-title" style="justify-content: center; border-bottom: none; padding-bottom: 0; margin-bottom: 15px;">Videos Coming Soon!</h3>
              <p>This section will display exciting video content once you add it to your 'videos.html' file.</p>
          </div>
        </div>

      </div>
    </div>

    <footer class="page-footer">
      <p>Last Updated: October 29, 2025</p>
    </footer>
  </div> <!-- End of app-container -->

  <script>
    // --- Service Worker Registration for PWA ---
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        // Developer Note: This path should point to your actual sw.js file in the root.
        // If you don't create sw.js separately, this registration will fail.
        navigator.serviceWorker.register('/sw.js')
          .then(registration => {
            console.log('Service Worker registered with scope:', registration.scope);
          })
          .catch(error => {
            console.error('Service Worker registration failed:', error);
          });
      });
    }

    let deferredPrompt; // To store the event for later use

    // Function to show a temporary PWA notification
    function showPwaNotification(message, isError = false) {
        const pwaNotification = document.getElementById('pwa-notification');
        const pwaNotificationMessage = document.getElementById('pwa-notification-message');
        const pwaNotificationIcon = pwaNotification.querySelector('svg');

        pwaNotificationMessage.textContent = message;
        
        // Change color based on error
        if (isError) {
            pwaNotification.style.backgroundColor = '#dc2626'; /* Red */
        } else {
            pwaNotification.style.backgroundColor = 'var(--accent1)'; /* Accent color */
        }

        pwaNotification.classList.add('show');

        setTimeout(() => {
            pwaNotification.classList.remove('show');
        }, 5000); // Hide after 5 seconds
    }


    document.addEventListener('DOMContentLoaded', () => {
      // --- Splash screen logic ---
      const splashScreen = document.getElementById('splash-screen');
      setTimeout(() => {
        splashScreen.classList.add('hidden');
        splashScreen.addEventListener('transitionend', () => {
          splashScreen.remove();
        }, { once: true });
      }, 2000); // Display for 2 seconds

      // --- PWA Install Button Logic ---
      const installAppIconBtn = document.getElementById('install-app-icon-btn');

      // This event tells us when the browser is ready to show the install prompt.
      window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault(); // Prevent the mini-infobar from appearing on mobile
        deferredPrompt = e; // Stash the event so it can be triggered later.
        console.log('beforeinstallprompt fired, install available.');
      });

      // Handle the click on our custom install button
      installAppIconBtn.addEventListener('click', async () => {
        if (deferredPrompt) {
          deferredPrompt.prompt(); // Show the installation prompt
          const { outcome } = await deferredPrompt.userChoice; // Wait for the user to respond
          console.log(`User response to the install prompt: ${outcome}`);
          if (outcome === 'accepted') {
            installAppIconBtn.style.display = 'none'; // Hide the button if user accepts
            showPwaNotification('File Hub was installed successfully!');
          } else {
            showPwaNotification('Installation cancelled.');
          }
          deferredPrompt = null; // Clear the deferred prompt
        } else {
            console.log('PWA installation prompt not available or already shown/dismissed.');
            showPwaNotification('To install the app, use your browser\'s "Add to Home Screen" or "Install App" option from the menu.');
        }
      });

      // This event fires if the app is already installed
      window.addEventListener('appinstalled', () => {
        console.log('PWA was installed!');
        installAppIconBtn.style.display = 'none'; // Hide the button if already installed
        showPwaNotification('File Hub is already installed!');
      });


      // --- Hamburger Menu / Sidebar Toggle Logic ---
      const hamburgerBtn = document.getElementById('hamburger-menu-btn');
      const sidebar = document.getElementById('app-sidebar');
      const sidebarOverlay = document.getElementById('sidebar-overlay');

      hamburgerBtn.addEventListener('click', (e) => {
          e.stopPropagation(); // Prevent click from bubbling
          sidebar.classList.toggle('visible-mobile');
          sidebarOverlay.classList.toggle('visible-mobile');
      });

      // Close sidebar if clicking outside or on overlay
      sidebarOverlay.addEventListener('click', () => {
          if (sidebar.classList.contains('visible-mobile')) {
              sidebar.classList.remove('visible-mobile');
              sidebarOverlay.classList.remove('visible-mobile');
          }
      });
      // Also close sidebar if clicking a nav link on mobile
      document.querySelectorAll('.app-sidebar a').forEach(link => {
          link.addEventListener('click', () => {
              if (window.innerWidth <= 900) {
                  sidebar.classList.remove('visible-mobile');
                  sidebarOverlay.classList.remove('visible-mobile');
              }
          });
      });


      // --- Navigation Logic (Switching Content) ---
      const navDownloads = document.getElementById('nav-downloads');
      const navUploadFiles = document.getElementById('nav-upload-files');
      const navVideos = document.getElementById('nav-videos');

      const downloadsContent = document.getElementById('downloads-content');
      const videosContent = document.getElementById('videos-content');
      const uploadModalOverlay = document.getElementById('upload-modal-overlay'); // Using the modal
      const officeFormIframe = document.getElementById('office-form-iframe'); // Iframe for the modal form


      async function showSection(sectionId) {
          // Hide all content sections in the main area
          document.querySelectorAll('.content-section').forEach(section => {
              section.style.display = 'none';
          });
          // Remove active class from all nav links
          document.querySelectorAll('.app-sidebar a').forEach(link => {
              link.classList.remove('active');
          });

          // Ensure upload modal is closed if open before showing new content
          if (uploadModalOverlay.classList.contains('visible')) {
              uploadModalOverlay.classList.remove('visible');
              officeFormIframe.src = ''; // Clear iframe to stop any forms
              document.body.style.overflow = ''; // Restore scrolling
          }

          // Handle each section
          if (sectionId === 'downloads') {
              downloadsContent.style.display = 'block';
              navDownloads.classList.add('active');
          } else if (sectionId === 'upload') {
              // Trigger the upload modal directly, no content section for this
              const formUrl = "https://forms.office.com/r/fYUKMMHHVL"; // Your Office Form URL
              if (formUrl) {
                officeFormIframe.src = formUrl;
                uploadModalOverlay.classList.add('visible');
                document.body.style.overflow = 'hidden';
              } else {
                console.error('Upload form URL is not specified.');
                showPwaNotification('Upload form URL is missing!', true);
              }
              // Keep the last active navigation link active, or default to downloads if nothing was active
              if (!document.querySelector('.app-sidebar a.active')) {
                  navDownloads.classList.add('active'); // Default back to downloads active state
              }

          } else if (sectionId === 'videos') {
              videosContent.style.display = 'block';
              navVideos.classList.add('active');
              // Dynamically load videos.html content
              try {
                  const response = await fetch('/videos.html'); // Path to your videos.html
                  if (!response.ok) {
                      throw new Error(`HTTP error! status: ${response.status}`);
                  }
                  const html = await response.text();
                  videosContent.innerHTML = html;
                  // After loading HTML, if there are any scripts in videos.html, they might not run
                  // For simple content, this is fine. For complex scripts, you'd need more advanced handling.
              } catch (error) {
                  console.error('Failed to load videos.html:', error);
                  videosContent.innerHTML = `<div class="file-section" style="text-align: center; padding: 50px; color: var(--muted-text);">
                      <svg style="width: 60px; height: 60px; color: var(--accent1); margin-bottom: 15px; filter: drop-shadow(0 0 10px rgba(124,58,237,0.3));" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M12 10C12 11.1046 11.1046 12 10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M12 14C14.2091 14 16 12.2091 16 10C16 7.79086 14.2091 6 12 6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      <h3 class="section-title" style="justify-content: center; border-bottom: none; padding-bottom: 0; margin-bottom: 15px;">Error loading Videos</h3>
                      <p>Could not retrieve 'videos.html'. Please ensure the file exists and is accessible.</p>
                  </div>`;
                  showPwaNotification('Failed to load video content!', true);
              }
          }
      }

      // Initial load: show Downloads section
      showSection('downloads');

      navDownloads.addEventListener('click', (e) => {
          e.preventDefault();
          showSection('downloads');
      });

      navUploadFiles.addEventListener('click', (e) => {
          e.preventDefault();
          showSection('upload'); // This will trigger the modal
      });

      navVideos.addEventListener('click', (e) => {
          e.preventDefault();
          showSection('videos');
      });
      
      // --- Upload Modal Close Logic ---
      const uploadModalCloseBtn = document.getElementById('upload-modal-close-btn');

      uploadModalCloseBtn.addEventListener('click', () => {
        uploadModalOverlay.classList.remove('visible');
        officeFormIframe.src = '';
        document.body.style.overflow = '';
      });

      uploadModalOverlay.addEventListener('click', (e) => {
        if (e.target === uploadModalOverlay) {
          uploadModalOverlay.classList.remove('visible');
          officeFormIframe.src = '';
          document.body.style.overflow = '';
        }
      });
      
      // --- File View/Download Instructions Logic (retained) ---
      const downloadButtons = document.querySelectorAll('.download-btn');

      downloadButtons.forEach(anchor => {
        const fileUrl = anchor.href; // Get URL directly from href as it's now set

        const cardInfo = anchor.closest('.info');
        const hintDiv = cardInfo.querySelector('.file-action-hint');

        if (fileUrl && fileUrl.includes('drive.google.com')) {
          hintDiv.innerHTML = 'Once opened in Google Drive, click the <span style="color:var(--accent2); font-weight:700;">download icon (↓)</span> in the top-right corner to save the file to your device.';
        } else if (fileUrl && fileUrl !== '#') {
          hintDiv.innerHTML = 'The file will open in a new tab. Look for download options within the new window to save it.';
        } else {
          hintDiv.innerHTML = 'File URL is not specified.'; // Fallback for missing URLs
        }
        hintDiv.style.display = 'block'; // Ensure hint is always visible
      });
    });
  </script>
</body>
</html>
