<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>File Hub - Downloads</title>

  <!-- PWA Meta Tags -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="File Hub">
  <link rel="apple-touch-icon" href="/icons/icon-512x512.png"> <!-- Path to your PWA icon on GitHub -->
  <link rel="manifest" href="/manifest.json"> <!-- Path to your manifest.json on GitHub -->
  <!-- Developer Note: For PWA, ensure manifest.json and sw.js are in the root directory.
       Replace /icons/icon-512x512.png with the actual path to your highest-res PWA icon. -->

  <!-- Favicon for Files and Mechatronics -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cdefs%3E%3ClinearGradient id='a' x1='12' y1='2' x2='12' y2='22' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%237c3aed'/%3E%3Cstop offset='1' stop-color='%2306b6d4'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6z' fill='url(%23a)'/%3E%3Cpath d='M12.5 12h-3v-2h3V8.5L16 11l-3.5 2.5V12zM11.5 16h3v2h-3v2.5L8 18l3.5-2.5V16z' fill='%23e6eef8'/%3E%3C/svg%3E">
  <!-- Developer Note: This favicon represents a document with a gear, symbolizing files and mechatronics. -->

  <style>
    :root{
      --bg:#0f172a;
      --card:#0b1220;
      --accent1:#7c3aed;
      --accent2:#06b6d4;
      --glass: rgba(255,255,255,0.04);
      --text-color: #e6eef8;
      --muted-text: #b0bec5;
      --sidebar-width: 250px;
      --header-height: 70px;
    }
    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,'Helvetica Neue',Arial}
    body{
      display: flex;
      flex-direction: column; /* Stack splash screen, then app-container */
      min-height: 100vh;
      background:linear-gradient(180deg,#071023 0%, #021029 100%);
      color:var(--text-color);
      justify-content: space-between;
      overflow-x: hidden;
    }

    /* Splash Screen Styles */
    #splash-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(180deg,#071023 0%, #021029 100%);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        opacity: 1;
        visibility: visible;
        transition: opacity 0.5s ease-out, visibility 0.5s ease-out;
    }
    #splash-screen.hidden {
        opacity: 0;
        visibility: hidden;
    }
    #splash-screen .splash-icon {
        width: 100px;
        height: 100px;
        margin-bottom: 20px;
        --icon-color-start: var(--accent1);
        --icon-color-end: var(--accent2);
        filter: drop-shadow(0 0 15px rgba(124,58,237,0.3));
    }
    #splash-screen .splash-title {
        font-size: 3em;
        font-weight: 800;
        background: linear-gradient(90deg, var(--accent1), var(--accent2));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin: 0;
        letter-spacing: 2px;
    }

    /* Main App Container Structure */
    .app-container {
      display: flex;
      flex-direction: column;
      flex-grow: 1;
      min-height: 100vh; /* Ensure app container fills viewport height */
    }

    /* App Header */
    .app-header {
      background: var(--card);
      height: var(--header-height);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
      z-index: 100; /* Ensure header is above content */
    }
    .app-header .app-title {
      font-size: 1.8em;
      font-weight: 800;
      background: linear-gradient(90deg, var(--accent1), var(--accent2));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin: 0;
      letter-spacing: 1px;
    }
    .app-header .header-actions {
        display: flex;
        align-items: center;
        gap: 15px;
    }

    /* Hamburger Menu Button (Mobile Only) */
    .hamburger-menu-btn {
        display: none; /* Hidden by default on desktop */
        background: none;
        border: none;
        color: var(--text-color);
        font-size: 2em;
        cursor: pointer;
        padding: 5px;
    }

    /* App Main Content (Sidebar + Content Area) */
    .app-main-content {
      display: flex;
      flex-grow: 1; /* Allow content to fill remaining space */
    }

    /* Sidebar Navigation */
    .app-sidebar {
      width: var(--sidebar-width);
      min-width: var(--sidebar-width); /* Prevent shrinking */
      background: var(--card);
      padding: 20px 0;
      box-shadow: 2px 0 10px rgba(0,0,0,0.3);
      display: flex;
      flex-direction: column;
      gap: 10px;
      transform: translateX(0); /* Default position */
      transition: transform 0.3s ease-out;
      z-index: 99; /* Below header */
    }
    .app-sidebar.hidden-mobile { /* For mobile to hide sidebar */
        transform: translateX(-100%);
        position: fixed; /* Fix position for mobile slide out */
        height: 100%;
        top: 0;
        left: 0;
    }
    .app-sidebar a {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 12px 25px;
      color: var(--muted-text);
      text-decoration: none;
      font-weight: 600;
      font-size: 1.1em;
      transition: background-color 0.2s ease, color 0.2s ease;
    }
    .app-sidebar a:hover {
      background-color: var(--glass);
      color: var(--text-color);
    }
    .app-sidebar a.active {
      background: linear-gradient(90deg, rgba(124,58,237,0.2), rgba(6,182,212,0.1));
      color: var(--accent2);
      border-left: 4px solid var(--accent1);
      padding-left: 21px; /* Adjust padding due to border */
    }
    .app-sidebar a .sidebar-icon {
        width: 22px;
        height: 22px;
        color: inherit; /* Inherit color from parent */
    }

    /* Main Content Area */
    .app-content-area {
      flex-grow: 1;
      padding: 30px;
      overflow-y: auto; /* Enable scrolling for content */
    }

    /* Section & Card Styles (mostly existing, integrated into new structure) */
    .file-section {
        width: 100%;
        max-width: 900px;
        margin: 0 auto 40px auto; /* Center sections, add bottom margin */
    }
    .section-title {
        font-size: 28px;
        font-weight: 700;
        margin-bottom: 25px;
        color: var(--accent2);
        text-align: left;
        text-transform: uppercase;
        letter-spacing: 1.5px;
        border-bottom: 2px solid rgba(6, 182, 212, 0.3);
        padding-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 15px;
    }
    .section-title .section-icon {
        width: 32px;
        height: 32px;
        color: var(--accent1);
        transition: transform 0.2s ease-in-out;
    }
    .section-title:hover .section-icon {
        transform: scale(1.1);
    }
    .section-cards-wrapper {
        display: flex;
        flex-wrap: wrap;
        gap: 25px;
        justify-content: flex-start;
    }

    .card{
        background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
        border-radius:16px;
        padding:28px 36px;
        box-shadow:0 8px 30px rgba(2,6,23,0.7);
        display:flex;
        gap:20px;
        align-items: flex-start;
        border:1px solid rgba(255,255,255,0.04);
        flex-direction: column;
        text-align: left;
        max-width: 380px;
        width: 100%;
        min-height: 180px;
        justify-content: space-between;
    }
    .info{
        max-width:360px;
        width: 100%;
    }
    .title{
      font-size:20px;
      font-weight:700;
      margin:0 0 8px;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      color: var(--text-color);
    }
    .title .file-icon {
        width: 22px;
        height: 22px;
        vertical-align: middle;
        margin-right: 10px;
        color: var(--accent1);
    }
    .desc{
        font-size:14px;
        opacity:.8;
        margin:0 0 8px;
    }
    .publisher {
        font-size: 12px;
        opacity: 0.6;
        margin-top: 5px;
        margin-bottom: 8px;
        color: var(--muted-text);
    }
    .download-btn{--pad:14px 20px;display:inline-flex;align-items:center;gap:10px;background:linear-gradient(90deg,var(--accent1),var(--accent2));padding:var(--pad);border-radius:12px;color:white;font-weight:700;text-decoration:none;box-shadow:0 6px 18px rgba(124,58,237,0.18);transition:transform .15s ease,box-shadow .15s ease}
    .download-btn:hover{transform:translateY(-3px);box-shadow:0 12px 30px rgba(6,182,212,0.12)}
    .download-btn:active{transform:translateY(-1px)}
    .icon{width:18px;height:18px;display:inline-block}
    
    .file-action-hint {
        font-size: 13px;
        opacity: .9;
        margin-top: 10px;
        color: var(--muted-text);
        line-height: 1.4;
    }

    /* Upload Form Section (integrated into content area) */
    .upload-form-section {
        width: 100%;
        max-width: 900px;
        margin: 0 auto;
        height: calc(100vh - var(--header-height) - var(--footer-height, 70px) - 60px); /* Adjust height to fit */
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
    }
    .upload-form-section .modal-iframe { /* Reuse modal-iframe styles */
        min-height: 400px; /* Ensure iframe has a minimum height */
        margin-top: 20px;
    }


    /* Footer Styles */
    .page-footer {
        width: 100%;
        text-align: center;
        padding: 25px 20px;
        font-size: 13px;
        opacity: 0.7;
        color: var(--text-color);
        background: rgba(0,0,0,0.2);
        margin-top: auto;
        flex-shrink: 0; /* Prevent footer from shrinking */
    }
    .page-footer p {
        margin: 0;
    }

    /* Responsive Adjustments */
    @media (max-width: 900px) {
        .app-sidebar {
            width: var(--sidebar-width); /* Maintain width for slide-out */
            position: fixed;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1002; /* Above other content when open */
            box-shadow: 5px 0 15px rgba(0,0,0,0.5);
        }
        .hamburger-menu-btn {
            display: block; /* Show hamburger on mobile */
        }
        .app-main-content {
            margin-left: 0; /* No static margin on mobile */
        }
    }

    @media (max-width: 600px) {
        .app-header {
            padding: 0 10px;
        }
        .app-header .app-title {
            font-size: 1.5em;
        }
        .header-actions {
            gap: 10px;
        }
        .card {
            padding: 20px 25px;
            max-width: 100%;
            align-items: center;
            text-align: center;
        }
        .section-title {
            font-size: 24px;
            justify-content: center;
            text-align: center;
        }
        .title {
            justify-content: center;
        }
        #splash-screen .splash-title {
            font-size: 2.2em;
        }
        .modal-content {
            width: 95%;
            height: 90%;
            padding: 15px;
        }
        .modal-close-btn {
            font-size: 2em;
            width: 35px;
            height: 35px;
        }
        .app-content-area {
            padding: 20px;
        }
    }
  </style>
</head>
<body>
  <!-- Developer Note:
       To make this a fully functional PWA for desktop installation:
       1. Create a file named 'manifest.json' in your GitHub project's root directory.
          Paste the following content into it:
          ```json
          {
            "name": "File Hub",
            "short_name": "File Hub",
            "start_url": ".",
            "display": "standalone",
            "background_color": "#071023",
            "theme_color": "#06b6d4",
            "icons": [
              {
                "src": "/icons/icon-512x512.png",
                "sizes": "512x512",
                "type": "image/png"
              },
              {
                "src": "/icons/icon-192x192.png",
                "sizes": "192x192",
                "type": "image/png"
              },
              {
                "src": "/icons/icon-144x144.png",
                "sizes": "144x144",
                "type": "image/png"
              },
              {
                "src": "/icons/icon-96x96.png",
                "sizes": "96x96",
                "type": "image/png"
              },
              {
                "src": "/icons/icon-72x72.png",
                "sizes": "72x72",
                "type": "image/png"
              },
              {
                "src": "/icons/icon-48x48.png",
                "sizes": "48x48",
                "type": "image/png"
              }
            ]
          }
          ```
       2. Create a folder named 'icons' in your GitHub project's root directory.
       3. Place your application icon (e.g., a 512x512 PNG) inside the 'icons' folder and name it 'icon-512x512.png'.
          (Optionally, add other sizes as specified in the manifest for better display across devices).
       4. Create a file named 'sw.js' in your GitHub project's root directory.
          Paste the following content into it:
          ```javascript
          // sw.js (Service Worker)
          // A minimal service worker that enables PWA installation.
          // For full offline capabilities, you'd add caching strategies here.

          self.addEventListener('install', (event) => {
            console.log('Service Worker: Installed');
            self.skipWaiting(); // Forces the waiting service worker to become the active service worker
          });

          self.addEventListener('activate', (event) => {
            console.log('Service Worker: Activated');
            event.waitUntil(clients.claim()); // Take control of un-controlled clients immediately
          });

          self.addEventListener('fetch', (event) => {
            // For now, we're just letting all network requests pass through.
            // To add offline capabilities, you would implement caching strategies here.
            // Example: event.respondWith(caches.match(event.request).then(response => response || fetch(event.request)));
            event.respondWith(fetch(event.request));
          });
          ```
       After these steps, when your site is live on GitHub Pages, browsers supporting PWA will show an install prompt.
  -->

  <!-- Splash Screen -->
  <div id="splash-screen">
    <svg class="splash-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <defs>
            <linearGradient id="splashIconGradient" x1="12" y1="2" x2="12" y2="22" gradientUnits="userSpaceOnUse">
                <stop stop-color="var(--icon-color-start)"/>
                <stop offset="1" stop-color="var(--icon-color-end)"/>
            </linearGradient>
        </defs>
        <path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6z" fill="url(#splashIconGradient)"/>
        <path d="M12.5 12h-3v-2h3V8.5L16 11l-3.5 2.5V12zM11.5 16h3v2h-3v2.5L8 18l3.5-2.5V16z" fill="var(--text-color)"/>
    </svg>
    <p class="splash-title">File Hub</p>
  </div>
  <!-- End Splash Screen -->

  <div class="app-container">
    <header class="app-header">
      <button class="hamburger-menu-btn" id="hamburger-menu-btn">☰</button>
      <p class="app-title">File Hub</p>
      <div class="header-actions">
        <button id="install-app-icon-btn" class="action-btn" aria-label="Install File Hub App">
          <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M12 8V16" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M8 12H16" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Install App
        </button>
        <!-- Developer Note: The "Install App" button is always visible. Its click action triggers the PWA install prompt. -->
      </div>
    </header>

    <div class="app-main-content">
      <nav class="app-sidebar" id="app-sidebar">
        <a href="#" id="nav-downloads" class="active">
          <svg class="sidebar-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M10 4H4C3.44772 4 3 4.44772 3 5V19C3 19.5523 3.44772 20 4 20H20C20.5523 20 21 19.5523 21 19V9C21 8.44772 20.5523 8 20 8H12L10 4Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Downloads
        </a>
        <a href="#" id="nav-upload-files">
          <svg class="sidebar-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M4 14.8996V20.8996C4 21.452 4.44772 21.8996 5 21.8996H19C19.5523 21.8996 20 21.452 20 20.8996V14.8996" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M12 16.8996V3.8996" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M7 8.8996L12 3.8996L17 8.8996" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Upload Files
        </a>
        <!-- Add more navigation links here if needed -->
      </nav>

      <div class="app-content-area" id="app-content-area">
        <!-- Content for Downloads (initially visible) -->
        <div id="downloads-content" class="content-section">
          <!-- Start of File Section -->
          <section class="file-section">
            <h2 class="section-title">
              <svg class="section-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M10 4H4C3.44772 4 3 4.44772 3 5V19C3 19.5523 3.44772 20 4 20H20C20.5523 20 21 19.5523 21 19V9C21 8.44772 20.5523 8 20 8H12L10 4Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Pneumatics and Hydraulics
            </h2>
            <div class="section-cards-wrapper">
              <!-- Start of Download Card -->
              <div class="card" role="region" aria-label="download card for Lecture 1">
                <div class="info">
                  <p class="title">
                      <svg class="file-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M14 2V8H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      Lecture 1
                  </p>
                  <p class="desc">Click to view this file.</p>
                  <p class="publisher">Published by: Dr. Mahmoud Hamed.</p>
                  <div style="margin-top:12px">
                    <a class="download-btn" href="https://drive.google.com/file/d/1rLRCszhYdbH1xzMe_nOHAbzesxZN32Aa/view?usp=drive_link" target="_blank" rel="noopener noreferrer" role="button">
                      <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path d="M12 3v12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M21 21H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      View File
                    </a>
                  </div>
                  <div class="file-action-hint">Once opened in Google Drive, click the <span style="color:var(--accent2); font-weight:700;">download icon (↓)</span> in the top-right corner to save the file to your device.</div>
                  <!-- Developer Note: This card opens the file in a new tab. -->
                </div>
              </div>
              <!-- End of Download Card -->

              <!-- Start of Download Card - Duplicate this block for more files in this section -->
              <div class="card" role="region" aria-label="download card for Lecture 2">
                <div class="info">
                  <p class="title">
                      <svg class="file-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M14 2V8H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      Lecture 2
                  </p>
                  <p class="desc">Click to view this file.</p>
                  <p class="publisher">Published by: Dr. Mahmoud Hamed.</p>
                  <div style="margin-top:12px">
                    <a class="download-btn" href="https://drive.google.com/file/d/1QFP4odfAIu3-ukTrT6fys9Et8iOrzWIq/view?usp=drive_link" target="_blank" rel="noopener noreferrer" role="button">
                      <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path d="M12 3v12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M21 21H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      View File
                    </a>
                  </div>
                  <div class="file-action-hint">Once opened in Google Drive, click the <span style="color:var(--accent2); font-weight:700;">download icon (↓)</span> in the top-right corner to save the file to your device.</div>
                  <!-- Developer Note: This card opens the file in a new tab. -->
                </div>
              </div>
              <!-- End of Download Card -->

              <!-- Start of Download Card - Duplicate this block for more files in this section -->
              <div class="card" role="region" aria-label="download card for Lecture 3">
                <div class="info">
                  <p class="title">
                      <svg class="file-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M14 2V8H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      Lecture 3
                  </p>
                  <p class="desc">Click to view this file.</p>
                  <p class="publisher">Published by: Dr. Mahmoud Hamed.</p>
                  <div style="margin-top:12px">
                    <a class="download-btn" href="https://drive.google.com/file/d/1Ij56Ad3kgxddCuv0FKruCuSk6Y7LHcGp/view?usp=drive_link" target="_blank" rel="noopener noreferrer" role="button">
                      <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path d="M12 3v12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M21 21H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      View File
                    </a>
                  </div>
                  <div class="file-action-hint">Once opened in Google Drive, click the <span style="color:var(--accent2); font-weight:700;">download icon (↓)</span> in the top-right corner to save the file to your device.</div>
                  <!-- Developer Note: This card opens the file in a new tab. -->
                </div>
              </div>
              <!-- End of Download Card -->
              <!-- Start of Download Card - Duplicate this block for more files in this section -->
              <div class="card" role="region" aria-label="download card for Lecture 4">
                <div class="info">
                  <p class="title">
                      <svg class="file-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M14 2V8H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      Lecture 4
                  </p>
                  <p class="desc">Click to view this file.</p>
                  <p class="publisher">Published by: Dr. Mahmoud Hamed.</p>
                  <div style="margin-top:12px">
                    <a class="download-btn" href="https://drive.google.com/file/d/1iapOU-IZHW6MeAmtH6GSkQYj7hcXgO3F/view?usp=drive_link" target="_blank" rel="noopener noreferrer" role="button">
                      <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path d="M12 3v12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M21 21H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      View File
                    </a>
                  </div>
                  <div class="file-action-hint">Once opened in Google Drive, click the <span style="color:var(--accent2); font-weight:700;">download icon (↓)</span> in the top-right corner to save the file to your device.</div>
                  <!-- Developer Note: This card opens the file in a new tab. -->
                </div>
              </div>
              <!-- End of Download Card -->
                <!-- Start of Download Card - Duplicate this block for more files in this section -->
              <div class="card" role="region" aria-label="download card for Lecture 5">
                <div class="info">
                  <p class="title">
                      <svg class="file-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M14 2V8H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      Lecture 5
                  </p>
                  <p class="desc">Click to view this file.</p>
                  <p class="publisher">Published by: Dr. Mahmoud Hamed.</p>
                  <div style="margin-top:12px">
                    <a class="download-btn" href="https://drive.google.com/file/d/1nZimO8IL_3MdwT0o1TQYxT0WstoFh3py/view?usp=drive_link" target="_blank" rel="noopener noreferrer" role="button">
                      <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path d="M12 3v12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M21 21H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      View File
                    </a>
                  </div>
                  <div class="file-action-hint">Once opened in Google Drive, click the <span style="color:var(--accent2); font-weight:700;">download icon (↓)</span> in the top-right corner to save the file to your device.</div>
                  <!-- Developer Note: This card opens the file in a new tab. -->
                </div>
              </div>
              <!-- End of Download Card -->
            </div>
          </section>
          <!-- End of File Section -->

          <!-- Start of File Section - Duplicate this entire section block for more categories -->
          <section class="file-section">
            <h2 class="section-title">
              <svg class="section-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M10 4H4C3.44772 4 3 4.44772 3 5V19C3 19.5523 3.44772 20 4 20H20C20.5523 20 21 19.5523 21 19V9C21 8.44772 20.5523 8 20 8H12L10 4Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Materials Selection
            </h2>
            <div class="section-cards-wrapper">

              <!-- Start of Download Card -->
              <div class="card" role="region" aria-label="download card for Materials Lecture 1">
                <div class="info">
                  <p class="title">
                      <svg class="file-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M14 2V8H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      Lecture 1
                  </p>
                  <p class="desc">Click to view this file.</p>
                  <p class="publisher">Published by: Dr. Asmaa Saad.</p>
                  <div style="margin-top:12px">
                    <a class="download-btn" href="https://drive.google.com/file/d/1FXk0dBfUg-ueb8F7HQzJfjWYMy6x3yCw/view?usp=drive_link" target="_blank" rel="noopener noreferrer" role="button">
                      <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path d="M12 3v12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M21 21H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      View File
                    </a>
                  </div>
                  <div class="file-action-hint">Once opened in Google Drive, click the <span style="color:var(--accent2); font-weight:700;">download icon (↓)</span> in the top-right corner to save the file to your device.</div>
                  <!-- Developer Note: This card opens the file in a new tab. -->
                </div>
              </div>
              <!-- End of Download Card -->

              <!-- Start of Download Card -->
              <div class="card" role="region" aria-label="download card for Materials Lecture 2">
                <div class="info">
                  <p class="title">
                      <svg class="file-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M14 2V8H20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      Leceture 2
                  </p>
                  <p class="desc">Click to view this file.</p>
                  <p class="publisher">Published by: Dr. Asmaa Saad.</p>
                  <div style="margin-top:12px">
                    <a class="download-btn" href="https://drive.google.com/file/d/1qvbPAJDarco3Zb9A4_n7eBu355RNvz7L/view?usp=drive_link" target="_blank" rel="noopener noreferrer" role="button">
                      <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path d="M12 3v12" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M21 21H3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      View File
                    </a>
                  </div>
                  <div class="file-action-hint">The file will open in a new tab. Look for download options within the new window to save it.</div>
                  <!-- Developer Note: This card opens the file in a new tab. -->
                </div>
              </div>
              <!-- End of Download Card -->

            </div>
          </section>
          <!-- End of File Section -->
        </div>

        <!-- Content for Upload Files (hidden by default) -->
        <div id="upload-files-content" class="content-section" style="display: none;">
          <div class="upload-form-section">
              <h2 class="section-title">
                  <svg class="section-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M4 14.8996V20.8996C4 21.452 4.44772 21.8996 5 21.8996H19C19.5523 21.8996 20 21.452 20 20.8996V14.8996" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M12 16.8996V3.8996" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M7 8.8996L12 3.8996L17 8.8996" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  Submit Your Files
              </h2>
              <p class="desc">Please use the form below to upload your files. This form will open directly within the application.</p>
              <iframe id="office-form-iframe-in-content" class="modal-iframe" src="https://forms.office.com/r/fYUKMMHHVL" frameborder="0" allowfullscreen></iframe>
              <!-- Developer Note: The Office Form is embedded directly here for an app-like feel. -->
          </div>
        </div>

      </div>
    </div>

    <footer class="page-footer">
      <p>Last Updated: October 29, 2025</p>
    </footer>
  </div> <!-- End of app-container -->

  <script>
    // --- Service Worker Registration for PWA ---
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        // Developer Note: This path should point to your actual sw.js file in the root.
        // If you don't create sw.js separately, this registration will fail.
        navigator.serviceWorker.register('/sw.js') 
          .then(registration => {
            console.log('Service Worker registered with scope:', registration.scope);
          })
          .catch(error => {
            console.error('Service Worker registration failed:', error);
          });
      });
    }

    let deferredPrompt; // To store the event for later use

    document.addEventListener('DOMContentLoaded', () => {
      // --- Splash screen logic ---
      const splashScreen = document.getElementById('splash-screen');
      setTimeout(() => {
        splashScreen.classList.add('hidden');
        splashScreen.addEventListener('transitionend', () => {
          splashScreen.remove();
        }, { once: true });
      }, 2000); // Display for 2 seconds

      // --- PWA Install Button Logic ---
      const installAppIconBtn = document.getElementById('install-app-icon-btn');

      // This event tells us when the browser is ready to show the install prompt.
      window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault(); // Prevent the mini-infobar from appearing on mobile
        deferredPrompt = e; // Stash the event so it can be triggered later.
        console.log('beforeinstallprompt fired, install available.');
        // No need to change button display, it's always visible now.
      });

      // Handle the click on our custom install button
      installAppIconBtn.addEventListener('click', async () => {
        if (deferredPrompt) {
          deferredPrompt.prompt(); // Show the installation prompt
          const { outcome } = await deferredPrompt.userChoice; // Wait for the user to respond
          console.log(`User response to the install prompt: ${outcome}`);
          if (outcome === 'accepted') {
            installAppIconBtn.style.display = 'none'; // Hide the button if user accepts
          }
          deferredPrompt = null; // Clear the deferred prompt
        } else {
            console.log('PWA installation prompt not available or already shown/dismissed.');
            // Optionally, provide feedback to the user if the prompt can't be shown right now.
            // A simple alert is provided as a developer hint; consider a more elegant UI notification.
            alert('To install this app, please use your browser\'s "Add to Home Screen" or "Install App" option from the menu.');
        }
      });

      // This event fires if the app is already installed
      window.addEventListener('appinstalled', () => {
        console.log('PWA was installed!');
        installAppIconBtn.style.display = 'none'; // Hide the button if already installed
      });


      // --- Hamburger Menu / Sidebar Toggle Logic ---
      const hamburgerBtn = document.getElementById('hamburger-menu-btn');
      const sidebar = document.getElementById('app-sidebar');
      const appContentArea = document.getElementById('app-content-area'); // To close sidebar when clicking outside

      hamburgerBtn.addEventListener('click', () => {
          sidebar.classList.toggle('hidden-mobile');
      });

      // Close sidebar if clicking outside on mobile
      appContentArea.addEventListener('click', () => {
          if (!sidebar.classList.contains('hidden-mobile') && window.innerWidth <= 900) {
              sidebar.classList.add('hidden-mobile');
          }
      });

      // --- Navigation Logic (Switching Content) ---
      const navDownloads = document.getElementById('nav-downloads');
      const navUploadFiles = document.getElementById('nav-upload-files');

      const downloadsContent = document.getElementById('downloads-content');
      const uploadFilesContent = document.getElementById('upload-files-content');
      const officeFormIframeInContent = document.getElementById('office-form-iframe-in-content');


      function showSection(sectionToShowId) {
          // Hide all content sections
          document.querySelectorAll('.content-section').forEach(section => {
              section.style.display = 'none';
          });
          // Remove active class from all nav links
          document.querySelectorAll('.app-sidebar a').forEach(link => {
              link.classList.remove('active');
          });

          // Show the selected section and set active link
          if (sectionToShowId === 'downloads-content') {
              downloadsContent.style.display = 'block';
              navDownloads.classList.add('active');
          } else if (sectionToShowId === 'upload-files-content') {
              uploadFilesContent.style.display = 'flex'; // Use flex for centering content
              navUploadFiles.classList.add('active');
              // Ensure iframe src is set if it's the first time
              if (!officeFormIframeInContent.src) {
                officeFormIframeInContent.src = "https://forms.office.com/r/fYUKMMHHVL"; // Set your form URL here
              }
          }

          // On mobile, close sidebar after navigation
          if (window.innerWidth <= 900) {
              sidebar.classList.add('hidden-mobile');
          }
      }

      navDownloads.addEventListener('click', (e) => {
          e.preventDefault();
          showSection('downloads-content');
      });

      navUploadFiles.addEventListener('click', (e) => {
          e.preventDefault();
          showSection('upload-files-content');
      });
      
      // --- File View/Download Instructions Logic (retained) ---
      const downloadButtons = document.querySelectorAll('.download-btn');

      downloadButtons.forEach(anchor => {
        const fileUrl = anchor.href; // Get URL directly from href as it's now set

        const cardInfo = anchor.closest('.info');
        const hintDiv = cardInfo.querySelector('.file-action-hint');

        if (fileUrl && fileUrl.includes('drive.google.com')) {
          hintDiv.innerHTML = 'Once opened in Google Drive, click the <span style="color:var(--accent2); font-weight:700;">download icon (↓)</span> in the top-right corner to save the file to your device.';
        } else if (fileUrl && fileUrl !== '#') {
          hintDiv.innerHTML = 'The file will open in a new tab. Look for download options within the new window to save it.';
        } else {
          hintDiv.innerHTML = 'File URL is not specified.'; // Fallback for missing URLs
        }
        hintDiv.style.display = 'block'; // Ensure hint is always visible
      });
    });
  </script>
</body>
</html>
