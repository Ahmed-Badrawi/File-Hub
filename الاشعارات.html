<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุตูุญุฉ ุงูุฅุดุนุงุฑุงุช ุงููุชูุงููุฉ</title>
    
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f8f8f8;
            color: #333;
            padding: 20px;
            direction: rtl; 
            text-align: right;
            margin: 0;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #ddd;
            padding-bottom: 15px;
        }

        /* ุญุงููุฉ ุงูุฅุดุนุงุฑุงุช */
        .notifications-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 10px;
        }

        /* ุชุตููู ุงูุฅุดุนุงุฑ ุงููุงุญุฏ */
        .notification-box {
            background-color: #fff;
            border: 1px solid #e0e0e0;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 4px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            display: flex; 
            justify-content: space-between;
            align-items: center;
        }

        /* ุชุตููู ุงูุฅุดุนุงุฑุงุช */
        .notification-box.important {
            border-right: 5px solid #d9534f; /* ุฎุท ุฃุญูุฑ ุนูู ุงููููู */
            background-color: #fef5f5;
        }

        .notification-box.info {
            border-right: 5px solid #5bc0de; /* ุฎุท ุฃุฒุฑู ุนูู ุงููููู */
            background-color: #f5faff;
        }

        /* ุฒุฑ ุฅุบูุงู ุงูุฅุดุนุงุฑ */
        .close-btn {
            background: none;
            border: none;
            font-size: 1.5em;
            font-weight: 300;
            color: #aaa;
            cursor: pointer;
            transition: color 0.2s;
            line-height: 1; /* ุถุจุท ูุญุงุฐุงุฉ X */
            padding: 0 5px;
        }

        .close-btn:hover {
            color: #d9534f;
        }

        /* ุชุตููู ุงูุฒุฑ ุงูุชุฌุฑูุจู */
        .add-btn {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            background-color: #5cb85c;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
        }

        .add-btn:hover {
            background-color: #4cae4c;
        }
    </style>
</head>
<body>

    <header>
        <h1>๐ข ููุญุฉ ุงูุฅุดุนุงุฑุงุช ุงูุฅุฏุงุฑูุฉ</h1>
        <p>ูุฐู ุงูุฅุดุนุงุฑุงุช ุชุธูุฑ ุญุณุจ ุงูุชุญุฏูุซุงุช ุงูุชู ุชู ุฅุถุงูุชูุง ูุฏููุงู.</p>
    </header>

    <main class="notifications-container">
        </main>

    <button class="add-btn" onclick="addNotification('ุชู ุฅุถุงูุฉ ููุฒุฉ ุฌุฏูุฏุฉ ูููููุน ุจูุฌุงุญ.', 'info')">ุฃุถู ุฅุดุนุงุฑ (ุชุฌุฑูุจู)</button>
    <button class="add-btn" style="background-color: #d9534f;" onclick="addNotification('ุตูุงูุฉ ูุงูุฉ ููู ุงูุฎููุณ ุงููุงุฏูุ ูุฑุฌู ุงููุชุงุจุนุฉ.', 'important')">ุฃุถู ุฅุดุนุงุฑ ูุงู (ุชุฌุฑูุจู)</button>
    
    <script>
        // 1. ูุตูููุฉ ูุชุฎุฒูู ุงูุฅุดุนุงุฑุงุช
        let notifications = [];

        // 2. ุชุญููู ุงูุฅุดุนุงุฑุงุช ูู ุงูุฐุงูุฑุฉ ุงููุญููุฉ (Local Storage)
        function loadNotifications() {
            const storedNotifications = localStorage.getItem('notifications');
            if (storedNotifications) {
                // Parse the string back into a JavaScript array
                notifications = JSON.parse(storedNotifications);
            }
            renderNotifications(); 
        }

        // 3. ุญูุธ ุงูุฅุดุนุงุฑุงุช ูู ุงูุฐุงูุฑุฉ ุงููุญููุฉ
        function saveNotifications() {
            // Stringify the array before saving it
            localStorage.setItem('notifications', JSON.stringify(notifications));
        }

        // 4. ุฏุงูุฉ ุฅุถุงูุฉ ุฅุดุนุงุฑ ุฌุฏูุฏ (ุงูุฏุงูุฉ ุงูุชู ุณุชุณุชุฎุฏููุง ูุฅุถุงูุฉ ุฅุดุนุงุฑุงุชู)
        function addNotification(message, type = 'info') {
            const newNotification = {
                id: Date.now(), 
                message: message,
                type: type,
                // Get current date in Arabic format
                date: new Date().toLocaleDateString('ar-EG', { year: 'numeric', month: 'short', day: 'numeric' }) 
            };

            notifications.unshift(newNotification); // Add to the beginning
            saveNotifications(); 
            renderNotifications(); 
        }

        // 5. ุฏุงูุฉ ุฅูุดุงุก ุนูุตุฑ HTML ููุฅุดุนุงุฑ
        function createNotificationElement(notification) {
            const container = document.createElement('div');
            container.className = `notification-box ${notification.type}`;
            container.dataset.id = notification.id;

            // ูุญุชูู ุงูุฅุดุนุงุฑ (ุงูุชุงุฑูุฎ + ุงูุฑุณุงูุฉ)
            const content = document.createElement('span');
            content.innerHTML = `<strong>[${notification.date}]</strong>: ${notification.message}`;

            // ุฒุฑ ุงูุฅุบูุงู
            const closeButton = document.createElement('button');
            closeButton.className = 'close-btn';
            closeButton.innerHTML = '&times;'; // HTML entity for 'X'
            closeButton.title = 'ุฅุบูุงู ุงูุฅุดุนุงุฑ';

            // ุฑุจุท ุฒุฑ ุงูุฅุบูุงู ุจุฏุงูุฉ ุงูุฅุฒุงูุฉ
            closeButton.onclick = () => removeNotification(notification.id);

            container.appendChild(content);
            container.appendChild(closeButton);

            return container;
        }

        // 6. ุฏุงูุฉ ุนุฑุถ ุฌููุน ุงูุฅุดุนุงุฑุงุช ูู ุงูุตูุญุฉ
        function renderNotifications() {
            const container = document.querySelector('.notifications-container');
            container.innerHTML = ''; // Clear existing content
            
            if (notifications.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #777; padding: 20px;">๐ ูุง ุชูุฌุฏ ุฅุดุนุงุฑุงุช ุญุงูููุง.</p>';
                return;
            }

            notifications.forEach(notification => {
                const element = createNotificationElement(notification);
                container.appendChild(element);
            });
        }

        // 7. ุฏุงูุฉ ุฅุฒุงูุฉ ุฅุดุนุงุฑ ุจูุงุกู ุนูู ุงููุนุฑู (ูุชู ุงุณุชุฏุนุงุคูุง ุจุงูููุฑ ุนูู X)
        function removeNotification(id) {
            // Remove the notification from the array
            notifications = notifications.filter(notification => notification.id != id);
            saveNotifications(); 
            renderNotifications(); 
        }

        // 8. ุชุญููู ูุชุดุบูู ุงูุฅุดุนุงุฑุงุช ุนูุฏ ุชุญููู ุงูุตูุญุฉ
        loadNotifications(); 
        
        // *******************************************************************
        // ๐ ูุฅุถุงูุฉ ุฅุดุนุงุฑุงุชู ุงูุฎุงุตุฉุ ูู ุจูุถุน ุงุณุชุฏุนุงุกุงุช ุงูุฏุงูุฉ addNotification ููุง:
        // *******************************************************************
        
        // ูุซุงู 1: ุฅุดุนุงุฑ ูุนูููุงุชู (info)
        // addNotification('ูุฑุญุจุงู ุจุงูุฌููุน! ุชู ุชุญุฏูุซ ุดุฑูุท ุงูุงุณุชุฎุฏุงู ุงูุฌุฏูุฏุฉ.', 'info');
        
        // ูุซุงู 2: ุฅุดุนุงุฑ ููู (important)
        // addNotification('ุชูุจูู ุฃููู: ูุฑุฌู ุชุบููุฑ ูููุฉ ุงููุฑูุฑ ููุฑุงู ูุชุนุฒูุฒ ุงูุฃูุงู.', 'important');

        // *******************************************************************
    </script>
</body>
</html>
